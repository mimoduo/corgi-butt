!function(o,u,g){function h(e,t){return typeof e===t}function p(){return"function"!=typeof u.createElement?u.createElement(arguments[0]):w?u.createElementNS.call(u,"http://www.w3.org/2000/svg",arguments[0]):u.createElement.apply(u,arguments)}function a(e,t,i,n){var a,o,s,r,l="modernizr",c=p("div"),d=function(){var e=u.body;return e||((e=p(w?"svg":"body")).fake=!0),e}();if(parseInt(i,10))for(;i--;)(s=p("div")).id=n?n[i]:l+(i+1),c.appendChild(s);return(a=p("style")).type="text/css",a.id="s"+l,(d.fake?d:c).appendChild(a),d.appendChild(c),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(u.createTextNode(e)),c.id=l,d.fake&&(d.style.background="",d.style.overflow="hidden",r=v.style.overflow,v.style.overflow="hidden",v.appendChild(d)),o=t(c,e),d.fake?(d.parentNode.removeChild(d),v.style.overflow=r,v.offsetHeight):c.parentNode.removeChild(c),!!o}function r(e,t){return function(){return e.apply(t,arguments)}}function s(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(e,t){var i=e.length;if("CSS"in o&&"supports"in o.CSS){for(;i--;)if(o.CSS.supports(s(e[i]),t))return!0;return!1}if("CSSSupportsRule"in o){for(var n=[];i--;)n.push("("+s(e[i])+":"+t+")");return a("@supports ("+(n=n.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==function(e,t,i){var n;if("getComputedStyle"in o){n=getComputedStyle.call(o,e,t);var a=o.console;null!==n?i&&(n=n.getPropertyValue(i)):a&&a[a.error?"error":"log"].call(a,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else n=!t&&e.currentStyle&&e.currentStyle[i];return n}(e,null,"position")})}return g}function n(e,t,i,n,a){var o=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+x.join(o+" ")+o).split(" ");return h(t,"string")||h(t,"undefined")?function(e,t,i,n){function a(){s&&(delete _.style,delete _.modElem)}if(n=!h(n,"undefined")&&n,!h(i,"undefined")){var o=m(e,i);if(!h(o,"undefined"))return o}for(var s,r,l,c,d,u=["modernizr","tspan","samp"];!_.style&&u.length;)s=!0,_.modElem=p(u.shift()),_.style=_.modElem.style;for(l=e.length,r=0;r<l;r++)if(c=e[r],d=_.style[c],!!~(""+c).indexOf("-")&&(c=c.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")),_.style[c]!==g){if(n||h(i,"undefined"))return a(),"pfx"!=t||c;try{_.style[c]=i}catch(e){}if(_.style[c]!=d)return a(),"pfx"!=t||c}return a(),!1}(s,t,n,a):function(e,t,i){var n;for(var a in e)if(e[a]in t)return!1===i?e[a]:h(n=t[e[a]],"function")?r(n,i||t):n;return!1}(s=(e+" "+H.join(o+" ")+o).split(" "),t,i)}function e(e,t,i){return n(e,g,g,t,i)}var l=[],c=[],t={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){c.push({name:e,fn:t,options:i})},addAsyncTest:function(e){c.push({name:null,fn:e})}},d=function(){};d.prototype=t,d=new d;var i="CSS"in o&&"supports"in o.CSS,f="supportsCSS"in o;d.addTest("supports",i||f);var v=u.documentElement,w="svg"===v.nodeName.toLowerCase(),b=t._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];t._prefixes=b;var y={}.toString;d.addTest("svgclippaths",function(){return!!u.createElementNS&&/SVGClipPath/.test(y.call(u.createElementNS("http://www.w3.org/2000/svg","clipPath")))});var $=t.testStyles=a;d.addTest("touchevents",function(){var t;if("ontouchstart"in o||o.DocumentTouch&&u instanceof DocumentTouch)t=!0;else{var e=["@media (",b.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");$(e,function(e){t=9===e.offsetTop})}return t});var C="Moz O ms Webkit",x=t._config.usePrefixes?C.split(" "):[];t._cssomPrefixes=x;var H=t._config.usePrefixes?C.toLowerCase().split(" "):[];t._domPrefixes=H;var W={elem:p("modernizr")};d._q.push(function(){delete W.elem});var _={style:W.elem.style};d._q.unshift(function(){delete _.style}),t.testAllProps=n,t.testAllProps=e,d.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&e("transform","scale(1)",!0)}),d.addTest("csstransforms3d",function(){return!!e("perspective","1px",!0)}),function(){var e,t,i,n,a,o;for(var s in c)if(c.hasOwnProperty(s)){if(e=[],(t=c[s]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=h(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)1===(o=e[a].split(".")).length?d[o[0]]=n:(!d[o[0]]||d[o[0]]instanceof Boolean||(d[o[0]]=new Boolean(d[o[0]])),d[o[0]][o[1]]=n),l.push((n?"":"no-")+o.join("-"))}}(),function(e){var t=v.className,i=d._config.classPrefix||"";if(w&&(t=t.baseVal),d._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}d._config.enableClasses&&(t+=" "+i+e.join(" "+i),w?v.className.baseVal=t:v.className=t)}(l),delete t.addTest,delete t.addAsyncTest;for(var k=0;k<d._q.length;k++)d._q[k]();o.Modernizr=d}(window,document),window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.lazyClass="js-lazyload",window.lazySizesConfig.loadingClass="js-lazyloading",window.lazySizesConfig.loadedClass="js-lazyloaded",window.lazySizesConfig.loadHidden=!1,function(e,t){var i=function(r,S){"use strict";if(S.getElementsByClassName){var E,L,A=S.documentElement,l=r.Date,n=r.HTMLPictureElement,c="addEventListener",O="getAttribute",q=r[c],D=r.setTimeout,d=r.requestAnimationFrame||D,R=r.requestIdleCallback,V=/^picture$/i,a=["load","error","lazyincluded","_lazyloaded"],i={},X=Array.prototype.forEach,Y=function(e,t){return i[t]||(i[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),i[t].test(e[O]("class")||"")&&i[t]},N=function(e,t){Y(e,t)||e.setAttribute("class",(e[O]("class")||"").trim()+" "+t)},F=function(e,t){var i;(i=Y(e,t))&&e.setAttribute("class",(e[O]("class")||"").replace(i," "))},B=function(t,i,e){var n=e?c:"removeEventListener";e&&B(t,i),a.forEach(function(e){t[n](e,i)})},G=function(e,t,i,n,a){var o=S.createEvent("Event");return i||(i={}),i.instance=E,o.initEvent(t,!n,!a),o.detail=i,e.dispatchEvent(o),o},Q=function(e,t){var i;!n&&(i=r.picturefill||L.pf)?(t&&t.src&&!e[O]("srcset")&&e.setAttribute("srcset",t.src),i({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)},Z=function(e,t){return(getComputedStyle(e,null)||{})[t]},s=function(e,t,i){for(i=i||e.offsetWidth;i<L.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},U=function(){var i,n,t=[],a=[],o=t,s=function(){var e=o;for(o=t.length?a:t,n=!(i=!0);e.length;)e.shift()();i=!1},e=function(e,t){i&&!t?e.apply(this,arguments):(o.push(e),n||(n=!0,(S.hidden?D:d)(s)))};return e._lsFlush=s,e}(),K=function(i,e){return e?function(){U(i)}:function(){var e=this,t=arguments;U(function(){i.apply(e,t)})}},J=function(e){var t,i,n=function(){t=null,e()},a=function(){var e=l.now()-i;e<99?D(a,99-e):(R||n)(n)};return function(){i=l.now(),t||(t=D(a,99))}};!function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in L=r.lazySizesConfig||r.lazysizesConfig||{},t)e in L||(L[e]=t[e]);r.lazySizesConfig=L,D(function(){L.init&&o()})}();var e=function(){var d,u,g,h,t,p,m,f,v,w,b,y,$,C,o=/^img$/i,x=/^iframe$/i,H="onscroll"in r&&!/(gle|ing)bot/.test(navigator.userAgent),W=0,_=0,k=-1,T=function(e){_--,e&&e.target&&B(e.target,T),(!e||_<0||!e.target)&&(_=0)},M=function(e,t){var i,n=e,a="hidden"==Z(S.body,"visibility")||"hidden"!=Z(e.parentNode,"visibility")&&"hidden"!=Z(e,"visibility");for(f-=t,b+=t,v-=t,w+=t;a&&(n=n.offsetParent)&&n!=S.body&&n!=A;)(a=0<(Z(n,"opacity")||1))&&"visible"!=Z(n,"overflow")&&(i=n.getBoundingClientRect(),a=w>i.left&&v<i.right&&b>i.top-1&&f<i.bottom+1);return a},e=function(){var e,t,i,n,a,o,s,r,l,c=E.elements;if((h=L.loadMode)&&_<8&&(e=c.length)){t=0,k++,null==$&&("expand"in L||(L.expand=500<A.clientHeight&&500<A.clientWidth?500:370),y=L.expand,$=y*L.expFactor),W<$&&_<1&&2<k&&2<h&&!S.hidden?(W=$,k=0):W=1<h&&1<k&&_<6?y:0;for(;t<e;t++)if(c[t]&&!c[t]._lazyRace)if(H)if((r=c[t][O]("data-expand"))&&(o=1*r)||(o=W),l!==o&&(p=innerWidth+o*C,m=innerHeight+o,s=-1*o,l=o),i=c[t].getBoundingClientRect(),(b=i.bottom)>=s&&(f=i.top)<=m&&(w=i.right)>=s*C&&(v=i.left)<=p&&(b||w||v||f)&&(L.loadHidden||"hidden"!=Z(c[t],"visibility"))&&(u&&_<3&&!r&&(h<3||k<4)||M(c[t],o))){if(j(c[t]),a=!0,9<_)break}else!a&&u&&!n&&_<4&&k<4&&2<h&&(d[0]||L.preloadAfterLoad)&&(d[0]||!r&&(b||w||v||f||"auto"!=c[t][O](L.sizesAttr)))&&(n=d[0]||c[t]);else j(c[t]);n&&!a&&j(n)}},i=function(e){var i,n=0,a=L.throttleDelay,o=L.ricTimeout,t=function(){i=!1,n=l.now(),e()},s=R&&49<o?function(){R(t,{timeout:o}),o!==L.ricTimeout&&(o=L.ricTimeout)}:K(function(){D(t)},!0);return function(e){var t;(e=!0===e)&&(o=33),i||(i=!0,(t=a-(l.now()-n))<0&&(t=0),e||t<9?s():D(s,t))}}(e),z=function(e){N(e.target,L.loadedClass),F(e.target,L.loadingClass),B(e.target,P),G(e.target,"lazyloaded")},n=K(z),P=function(e){n({target:e.target})},I=function(e){var t,i=e[O](L.srcsetAttr);(t=L.customMedia[e[O]("data-media")||e[O]("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i)},s=K(function(e,t,i,n,a){var o,s,r,l,c,d;(c=G(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(i?N(e,L.autosizesClass):e.setAttribute("sizes",n)),s=e[O](L.srcsetAttr),o=e[O](L.srcAttr),a&&(r=e.parentNode,l=r&&V.test(r.nodeName||"")),d=t.firesLoad||"src"in e&&(s||o||l),c={target:e},d&&(B(e,T,!0),clearTimeout(g),g=D(T,2500),N(e,L.loadingClass),B(e,P,!0)),l&&X.call(r.getElementsByTagName("source"),I),s?e.setAttribute("srcset",s):o&&!l&&(x.test(e.nodeName)?function(t,i){try{t.contentWindow.location.replace(i)}catch(e){t.src=i}}(e,o):e.src=o),a&&(s||l)&&Q(e,{src:o})),e._lazyRace&&delete e._lazyRace,F(e,L.lazyClass),U(function(){(!d||e.complete&&1<e.naturalWidth)&&(d?T(c):_--,z(c))},!0)}),j=function(e){var t,i=o.test(e.nodeName),n=i&&(e[O](L.sizesAttr)||e[O]("sizes")),a="auto"==n;(!a&&u||!i||!e[O]("src")&&!e.srcset||e.complete||Y(e,L.errorClass)||!Y(e,L.lazyClass))&&(t=G(e,"lazyunveilread").detail,a&&ee.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,_++,s(e,t,a,n,i))},a=function(){if(!u){if(l.now()-t<999)return void D(a,999);var e=J(function(){L.loadMode=3,i()});u=!0,L.loadMode=3,i(),q("scroll",function(){3==L.loadMode&&(L.loadMode=2),e()},!0)}};return{_:function(){t=l.now(),E.elements=S.getElementsByClassName(L.lazyClass),d=S.getElementsByClassName(L.lazyClass+" "+L.preloadClass),C=L.hFac,q("scroll",i,!0),q("resize",i,!0),r.MutationObserver?new MutationObserver(i).observe(A,{childList:!0,subtree:!0,attributes:!0}):(A[c]("DOMNodeInserted",i,!0),A[c]("DOMAttrModified",i,!0),setInterval(i,999)),q("hashchange",i,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){S[c](e,i,!0)}),/d$|^c/.test(S.readyState)?a():(q("load",a),S[c]("DOMContentLoaded",i),D(a,2e4)),E.elements.length?(e(),U._lsFlush()):i()},checkElems:i,unveil:j}}(),ee=function(){var i,o=K(function(e,t,i,n){var a,o,s;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),V.test(t.nodeName||""))for(a=t.getElementsByTagName("source"),o=0,s=a.length;o<s;o++)a[o].setAttribute("sizes",n);i.detail.dataAttr||Q(e,i.detail)}),n=function(e,t,i){var n,a=e.parentNode;a&&(i=s(e,a,i),(n=G(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=n.detail.width)&&i!==e._lazysizesWidth&&o(e,a,n,i))},e=J(function(){var e,t=i.length;if(t)for(e=0;e<t;e++)n(i[e])});return{_:function(){i=S.getElementsByClassName(L.autosizesClass),q("resize",e)},checkElems:e,updateElem:n}}(),o=function(){o.i||(o.i=!0,ee._(),e._())};return E={cfg:L,autoSizer:ee,loader:e,init:o,uP:Q,aC:N,rC:F,hC:Y,fire:G,gW:s,rAF:U}}}(e,e.document);e.lazySizes=i,"object"==typeof module&&module.exports&&(module.exports=i)}(window),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(m){"use strict";function i(e,t,i,n){var a,o={raw:{}};for(a in n=n||{})n.hasOwnProperty(a)&&("classes"===e?(o.raw[n[a]]=t+"-"+n[a],o[n[a]]="."+t+"-"+n[a]):(o.raw[a]=n[a],o[a]=n[a]+"."+t));for(a in i)i.hasOwnProperty(a)&&("classes"===e?(o.raw[a]=i[a].replace(/{ns}/g,t),o[a]=i[a].replace(/{ns}/g,"."+t)):(o.raw[a]=i[a].replace(/.{ns}/g,""),o[a]=i[a].replace(/{ns}/g,t)));return o}function e(){f.windowWidth=f.$window.width(),f.windowHeight=f.$window.height(),g=d.startTimer(g,h,t)}function t(){for(var e in f.ResizeHandlers)f.ResizeHandlers.hasOwnProperty(e)&&f.ResizeHandlers[e].callback.call(window,f.windowWidth,f.windowHeight)}function n(e,t){return parseInt(e.priority)-parseInt(t.priority)}var a,o,s,r="undefined"!=typeof window?window:this,l=r.document,c=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=r,this.$window=m(r),this.document=l,this.$document=m(l),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},d={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(e){}},killGesture:function(e){try{e.preventDefault()}catch(e){}},lockViewport:function(e){p[e]=!0,m.isEmptyObject(p)||b||(a.length?a.attr("content",s):a=m("head").append('<meta name="viewport" content="'+s+'">'),f.$body.on(w.gestureChange,d.killGesture).on(w.gestureStart,d.killGesture).on(w.gestureEnd,d.killGesture),b=!0)},unlockViewport:function(e){"undefined"!==m.type(p[e])&&delete p[e],m.isEmptyObject(p)&&b&&(a.length&&(o?a.attr("content",o):a.remove()),f.$body.off(w.gestureChange).off(w.gestureStart).off(w.gestureEnd),b=!1)},startTimer:function(e,t,i,n){return d.clearTimer(e),n?setInterval(i,t):setTimeout(i,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=f.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},i=e.slice(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++){var a=i[n].split("=");t[a[0]]=a[1]}return t}},f=new c,u=m.Deferred(),v={base:"{ns}",element:"{ns}-element"},w={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},g=null,h=20,p=[],b=!1;return c.prototype.NoConflict=function(){for(var e in f.DontConflict=!0,f.Plugins)f.Plugins.hasOwnProperty(e)&&(m[e]=f.Conflicts[e],m.fn[e]=f.Conflicts.fn[e])},c.prototype.Ready=function(e){"complete"===f.document.readyState||"loading"!==f.document.readyState&&!f.document.documentElement.doScroll?e():f.document.addEventListener("DOMContentLoaded",e)},c.prototype.Plugin=function(e,t){return f.Plugins[e]=function(u,g){function h(e){return e.data(p)}var e="fs-"+u,p="fs"+u.replace(/(^|\s)([a-z])/g,function(e,t,i){return t+i.toUpperCase()});return g.initialized=!1,g.priority=g.priority||10,g.classes=i("classes",e,v,g.classes),g.events=i("events",u,w,g.events),g.functions=m.extend({getData:h,iterate:function(e){for(var t=Array.prototype.slice.call(arguments,1),i=0,n=this.length;i<n;i++){var a=this.eq(i),o=h(a)||{};"undefined"!==m.type(o.$el)&&e.apply(a,[o].concat(t))}return this}},d,g.functions),g.methods=m.extend(!0,{_construct:m.noop,_postConstruct:m.noop,_destruct:m.noop,_resize:!1,destroy:function(e){g.functions.iterate.apply(this,[g.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(g.classes.raw.element).removeData(p)}},g.methods),g.utilities=m.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(e){g.defaults=m.extend(!0,g.defaults,e||{})}},g.utilities),g.widget&&(f.Conflicts.fn[u]=m.fn[u],m.fn[p]=function(e){if(this instanceof m){var t=g.methods[e];if("object"===m.type(e)||!e)return function(e){var t,i,n,a="object"===m.type(e),o=Array.prototype.slice.call(arguments,a?1:0),s=m();for(e=m.extend(!0,{},g.defaults||{},a?e:{}),i=0,n=this.length;i<n;i++)if(!h(t=this.eq(i))){g.guid++;var r="__"+g.guid,l=g.classes.raw.base+r,c=t.data(u+"-options"),d=m.extend(!0,{$el:t,guid:r,numGuid:g.guid,rawGuid:l,dotGuid:"."+l},e,"object"===m.type(c)?c:{});t.addClass(g.classes.raw.element).data(p,d),g.methods._construct.apply(t,[d].concat(o)),s=s.add(t)}for(i=0,n=s.length;i<n;i++)t=s.eq(i),g.methods._postConstruct.apply(t,[h(t)]);return this}.apply(this,arguments);if(t&&0!==e.indexOf("_")){var i=[t].concat(Array.prototype.slice.call(arguments,1));return g.functions.iterate.apply(this,i)}return this}},f.DontConflict||(m.fn[u]=m.fn[p])),f.Conflicts[u]=m[u],m[p]=g.utilities._delegate||function(e){var t=g.utilities[e]||g.utilities._initialize||!1;if(t){var i=Array.prototype.slice.call(arguments,"object"===m.type(e)?0:1);return t.apply(window,i)}},f.DontConflict||(m[u]=m[p]),g.namespace=u,g.namespaceClean=p,g.guid=0,g.methods._resize&&(f.ResizeHandlers.push({namespace:u,priority:g.priority,callback:g.methods._resize}),f.ResizeHandlers.sort(n)),g.methods._raf&&(f.RAFHandlers.push({namespace:u,priority:g.priority,callback:g.methods._raf}),f.RAFHandlers.sort(n)),g}(e,t),f.Plugins[e]},f.$window.on("resize.fs",e),e(),function e(){if(f.support.raf)for(var t in f.window.requestAnimationFrame(e),f.RAFHandlers)f.RAFHandlers.hasOwnProperty(t)&&f.RAFHandlers[t].callback.call(window)}(),f.Ready(function(){f.$body=m("body"),m("html").addClass(f.support.touch?"touchevents":"no-touchevents"),a=m('meta[name="viewport"]'),o=!!a.length&&a.attr("content"),s="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",u.resolve()}),w.clickTouchStart=w.click+" "+w.touchStart,function(){var e,t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},i=["transition","-webkit-transition"],n={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},a="transitionend",o="",s="",r=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in r.style){a=t[e],f.support.transition=!0;break}for(e in w.transitionEnd=a+".{ns}",i)if(i.hasOwnProperty(e)&&i[e]in r.style){o=i[e];break}for(e in f.transition=o,n)if(n.hasOwnProperty(e)&&n[e]in r.style){f.support.transform=!0,s=n[e];break}f.transform=s}(),window.Formstone=f}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(o,e){"use strict";function s(){(function(){for(var e in a={unit:r.unit},m)if(m.hasOwnProperty(e))for(var t in p[e])if(p[e].hasOwnProperty(t)){var i="Infinity"===t?1/0:parseInt(t,10),n=-1<e.indexOf("max");p[e][t].matches&&(n?(!a[e]||i<a[e])&&(a[e]=i):(!a[e]||i>a[e])&&(a[e]=i))}})(),i.trigger(d.mqChange,[a])}function l(e){var t=c(e.media),i=h[t],n=e.matches,a=n?d.enter:d.leave;if(i&&(i.active||!i.active&&n)){for(var o in i[a])i[a].hasOwnProperty(o)&&i[a][o].apply(i.mq);i.active=!0}}function c(e){return e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}var t=e.Plugin("mediaquery",{utilities:{_initialize:function(e){for(var t in e=e||{},m)m.hasOwnProperty(t)&&(r[t]=e[t]?o.merge(e[t],r[t]):r[t]);for(var i in(r=o.extend(r,e)).minWidth.sort(g.sortDesc),r.maxWidth.sort(g.sortAsc),r.minHeight.sort(g.sortDesc),r.maxHeight.sort(g.sortAsc),m)if(m.hasOwnProperty(i))for(var n in p[i]={},r[i])if(r[i].hasOwnProperty(n)){var a=window.matchMedia("("+m[i]+": "+(r[i][n]===1/0?1e5:r[i][n])+r.unit+")");a.addListener(s),p[i][r[i][n]]=a}s()},state:function(){return a},bind:function(e,t,i){var n=u.matchMedia(t),a=c(n.media);for(var o in h[a]||(h[a]={mq:n,active:!0,enter:{},leave:{}},h[a].mq.addListener(l)),i)i.hasOwnProperty(o)&&h[a].hasOwnProperty(o)&&(h[a][o][e]=i[o]);var s=h[a],r=n.matches;r&&s[d.enter].hasOwnProperty(e)?(s[d.enter][e].apply(n),s.active=!0):!r&&s[d.leave].hasOwnProperty(e)&&(s[d.leave][e].apply(n),s.active=!1)},unbind:function(e,t){if(e)if(t){var i=c(t);h[i]&&(h[i].enter[e]&&delete h[i].enter[e],h[i].leave[e]&&delete h[i].leave[e])}else for(var n in h)h.hasOwnProperty(n)&&(h[n].enter[e]&&delete h[n].enter[e],h[n].leave[e]&&delete h[n].leave[e])}},events:{mqChange:"mqchange"}}),r={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},d=o.extend(t.events,{enter:"enter",leave:"leave"}),i=e.$window,u=i[0],g=t.functions,a=null,h=[],p={},m={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(l,o){"use strict";function t(){u.scrollDepth&&s()}function i(){var e,t=l(this),i="undefined"!==l.type(t[0].href)?t[0].href:"",n=document.domain.split(".").reverse(),a=null!==i.match(n[1]+"."+n[0]);i.match(/^mailto\:/i)?e="Email, Click, "+i.replace(/^mailto\:/i,""):i.match(/^tel\:/i)?e="Telephone, Click, "+i.replace(/^tel\:/i,""):i.match(u.fileTypes)?e="File, Download:"+(/[.]/.exec(i)?/[^.]+$/.exec(i):void 0)[0]+", "+i.replace(/ /g,"-"):a||(e="ExternalLink, Click, "+i),e&&t.attr(b,e)}function n(e){m.startTimer($,250,a)}function a(){for(var e,t=h.scrollTop()+o.windowHeight,i=1/u.scrollStops,n=i,a=1;a<=u.scrollStops;a++)e=Math.round(100*n).toString(),!y[C][e].passed&&t>y[C][e].edge&&(y[C][e].passed=!0,c(l.extend(u.scrollFields,{eventCategory:"ScrollDepth",eventAction:C,eventLabel:e,nonInteraction:!0}))),n+=i}function s(){var e,t=l.mediaquery("state"),i=p.outerHeight(),n={},a=1/u.scrollStops,o=a,s=0;t.minWidth&&(C="MinWidth:"+t.minWidth+"px");for(var r=1;r<=u.scrollStops;r++)s=parseInt(i*o),n[e=Math.round(100*o).toString()]={edge:"100"===e?s-10:s,passsed:!(!y[C]||!y[C][e])&&y[C][e].passed},o+=a;y[C]=n}function r(e){var t=l(this),i=t.attr("href"),n=t.data(w).split(",");for(var a in u.eventCallback&&e.preventDefault(),n)n.hasOwnProperty(a)&&(n[a]=l.trim(n[a]));c({eventCategory:n[0],eventAction:n[1],eventLabel:n[2]||i,eventValue:n[3],nonInteraction:n[4]},t)}function c(e,t){g.location;var i=l.extend({hitType:"event"},e);if("undefined"!==l.type(t)&&!t.attr("data-analytics-stop")){var n="undefined"!==l.type(t[0].href)?t[0].href:"",a=!n.match(/^mailto\:/i)&&!n.match(/^tel\:/i)&&n.indexOf(":")<0?g.location.protocol+"//"+g.location.hostname+"/"+n:n;if(""!==a){var o=t.attr("target");o?g.open(a,o):u.eventCallback&&(i.hitCallback=function(){x&&(m.clearTimer(x),function(e){document.location=e}(a))},x=m.startTimer(x,u.eventTimeout,i.hitCallback))}}d(i)}function d(e){if("function"===l.type(g.ga)&&"function"===l.type(g.ga.getAll))for(var t=g.ga.getAll(),i=0,n=t.length;i<n;i++)g.ga(t[i].get("name")+".send",e)}var e=o.Plugin("analytics",{methods:{_resize:t},utilities:{_delegate:function(){if(arguments.length&&"object"!==l.type(arguments[0]))if("destroy"===arguments[0])(function(){v&&p&&p.length&&(h.off(f.namespace),p.off(f.namespace),v=!1)}).apply(this);else{var e=Array.prototype.slice.call(arguments,1);switch(arguments[0]){case"pageview":(function(e){d(l.extend({hitType:"pageview"},e))}).apply(this,e);break;case"event":c.apply(this,e)}}else(function(e){!v&&p&&p.length&&(v=!0,(u=l.extend(u,e||{})).autoEvents&&p.find("a").not("["+b+"]").each(i),u.scrollDepth&&(s(),h.on(f.scroll,n).one(f.load,t)),p.on(f.click,"*["+b+"]",r))}).apply(this,arguments);return null}}}),u={autoEvents:!1,fileTypes:/\.(zip|exe|dmg|pdf|doc.*|xls.*|ppt.*|mp3|txt|rar|wma|mov|avi|wmv|flv|wav)$/i,eventCallback:!1,eventTimeout:1e3,scrollDepth:!1,scrollStops:5,scrollFields:{}},g=o.window,h=o.$window,p=null,m=e.functions,f=e.events,v=!1,w="analytics-event",b="data-"+w,y={},$=null,C="Site",x=null;o.Ready(function(){p=o.$body})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./transition"],e):e(jQuery,Formstone)}(function(c,n){"use strict";function e(){(H=x.scrollTop()+n.windowHeight)<0&&(H=0),$.iterate.call(_,r)}function t(){W=c(w.base),_=c(w.lazy),$.iterate.call(_,s)}function i(e){if(e.visible){var t=e.source;e.source=null,a(e,t,!0)}}function a(e,t,i){if(t!==e.source&&e.visible){if(e.source=t,e.responsive=!1,e.isYouTube=!1,"object"===c.type(t)&&"string"===c.type(t.video)){var n=t.video.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);n&&1<=n.length&&(e.isYouTube=!0,e.videoId=n[1])}var a=!e.isYouTube&&"object"===c.type(t)&&(t.hasOwnProperty("mp4")||t.hasOwnProperty("ogg")||t.hasOwnProperty("webm"));if(e.video=e.isYouTube||a,e.playing=!1,e.isYouTube)e.playerReady=!1,e.posterLoaded=!1,g(e,t,i);else if("object"===c.type(t)&&t.hasOwnProperty("poster"))!function(t,e,i){t.source&&t.source.poster&&(u(t,t.source.poster,!0,!0),i=!1);var n='<div class="'+[b.media,b.video,!0!==i?b.animated:""].join(" ")+'" aria-hidden="true">';n+="<video playsinline",t.loop&&(n+=" loop"),t.mute&&(n+=" muted"),t.autoPlay&&(n+=" autoplay"),n+=">",t.source.webm&&(n+='<source src="'+t.source.webm+'" type="video/webm" />'),t.source.mp4&&(n+='<source src="'+t.source.mp4+'" type="video/mp4" />'),t.source.ogg&&(n+='<source src="'+t.source.ogg+'" type="video/ogg" />'),n+="</video>";var a=c(n+="</div>");a.find("video").one(y.loadedMetaData,function(e){a.fsTransition({property:"opacity"},function(){h(t)}).css({opacity:1}),m(t),t.$el.trigger(y.loaded),t.autoPlay&&p(t)}),t.$container.append(a)}(e,0,i);else{var o=t;if("object"===c.type(t)){var s,r=[],l=[];for(s in t)t.hasOwnProperty(s)&&l.push(s);for(s in l.sort($.sortAsc),l)l.hasOwnProperty(s)&&r.push({width:parseInt(l[s]),url:t[l[s]],mq:C.matchMedia("(min-width: "+parseInt(l[s])+"px)")});e.responsive=!0,e.sources=r,o=d(e)}u(e,o,!1,i)}}else e.$el.trigger(y.loaded)}function d(e){var t=e.source;if(e.responsive)for(var i in t=e.sources[0].url,e.sources)e.sources.hasOwnProperty(i)&&(n.support.matchMedia?e.sources[i].mq.matches&&(t=e.sources[i].url):e.sources[i].width<n.fallbackWidth&&(t=e.sources[i].url));return t}function u(e,t,i,n){var a=[b.media,b.image,!0!==n?b.animated:""].join(" "),o=c('<div class="'+a+'" aria-hidden="true"><img alt="'+e.alt+'"></div>'),s=o.find("img"),r=t;s.one(y.load,function(){k&&o.addClass(b.native).css({backgroundImage:"url('"+r+"')"}),o.fsTransition({property:"opacity"},function(){i||h(e)}).css({opacity:1}),m(e),i&&!n||e.$el.trigger(y.loaded)}).one(y.error,e,l).attr("src",r),e.responsive&&o.addClass(b.responsive),e.$container.append(o),(s[0].complete||4===s[0].readyState)&&s.trigger(y.load),e.currentSource=r}function g(t,e,i){if(!t.videoId){var n=e.match(/^.*(?:youtu.be\/|v\/|e\/|u\/\w+\/|embed\/|v=)([^#\&\?]*).*/);t.videoId=n[1]}if(t.posterLoaded||(t.source.poster||(t.source.poster="//img.youtube.com/vi/"+t.videoId+"/0.jpg"),t.posterLoaded=!0,u(t,t.source.poster,!0,i),i=!1),c("script[src*='youtube.com/iframe_api']").length||c("head").append('<script src="//www.youtube.com/iframe_api"><\/script>'),T){var a=t.guid+"_"+t.youTubeGuid++,o='<div class="'+[b.media,b.embed,!0!==i?b.animated:""].join(" ")+'" aria-hidden="true">';o+='<div id="'+a+'"></div>';var s=c(o+="</div>"),r=c.extend(!0,{},{controls:0,rel:0,showinfo:0,wmode:"transparent",enablejsapi:1,version:3,playerapiid:a,loop:t.loop?1:0,autoplay:1,origin:C.location.protocol+"//"+C.location.host},t.youtubeOptions);r.autoplay=1,t.$container.append(s),t.player&&(t.oldPlayer=t.player,t.player=null),t.player=new C.YT.Player(a,{videoId:t.videoId,playerVars:r,events:{onReady:function(e){t.playerReady=!0,t.mute&&t.player.mute(),t.autoPlay||t.player.pauseVideo()},onStateChange:function(e){t.playing||e.data!==C.YT.PlayerState.PLAYING?t.loop&&t.playing&&e.data===C.YT.PlayerState.ENDED&&t.player.playVideo():(t.playing=!0,s.fsTransition({property:"opacity"},function(){h(t)}).css({opacity:1}),m(t),t.$el.trigger(y.loaded)),t.$el.find(w.embed).addClass(b.ready)},onPlaybackQualityChange:function(e){},onPlaybackRateChange:function(e){},onError:function(e){l({data:t})},onApiChange:function(e){}}}),m(t)}else M.push({data:t,source:e})}function h(e){var t=e.$container.find(w.media);1<=t.length&&(t.not(":last").remove(),e.oldPlayer=null)}function l(e){e.data.$el.trigger(y.error)}function p(e){if(e.video&&!e.playing)if(e.isYouTube)e.playerReady?e.player.playVideo():e.autoPlay=!0;else{var t=e.$container.find("video");t.length&&t[0].play(),e.playing=!0}}function o(e){if(e.visible)if(e.responsive){var t=d(e);t!==e.currentSource?u(e,t,!1,!0):m(e)}else m(e)}function m(e){for(var t=e.$container.find(w.media),i=0,n=t.length;i<n;i++){var a=t.eq(i),o=e.isYouTube?"iframe":a.find("video").length?"video":"img",s=a.find(o);if(s.length&&("img"!=o||!k)){var r=e.$el.outerWidth(),l=e.$el.outerHeight(),c=f(e,s);e.width=c.width,e.height=c.height,e.left=0,e.top=0;var d=e.isYouTube?e.embedRatio:e.width/e.height;e.height=l,e.width=e.height*d,e.width<r&&(e.width=r,e.height=e.width/d),e.left=-(e.width-r)/2,e.top=-(e.height-l)/2,a.css({height:e.height,width:e.width,left:e.left,top:e.top})}}}function s(e){e.scrollTop=e.$el.offset().top}function r(e){!e.visible&&e.scrollTop<H+e.lazyEdge&&(e.visible=!0,i(e))}function f(e,t){if(e.isYouTube)return{height:500,width:500/e.embedRatio};if(t.is("img")){var i=t[0];if("undefined"!==c.type(i.naturalHeight))return{height:i.naturalHeight,width:i.naturalWidth};var n=new Image;return n.src=i.src,{height:n.height,width:n.width}}return{height:t[0].videoHeight,width:t[0].videoWidth}}var v=n.Plugin("background",{widget:!0,defaults:{alt:"",autoPlay:!0,customClass:"",embedRatio:1.777777,lazy:!1,lazyEdge:100,loop:!0,mute:!0,source:null,youtubeOptions:{}},classes:["container","media","animated","responsive","native","fixed","ready","lazy"],events:{loaded:"loaded",ready:"ready",loadedMetaData:"loadedmetadata"},methods:{_construct:function(e){e.youTubeGuid=0,e.$container=c('<div class="'+b.container+'"></div>').appendTo(this),e.thisClasses=[b.base,e.customClass],e.visible=!0,e.lazy&&(e.visible=!1,e.thisClasses.push(b.lazy)),this.addClass(e.thisClasses.join(" ")),t(),e.lazy?(s(e),r(e)):i(e)},_destruct:function(e){e.$container.remove(),this.removeClass(e.thisClasses.join(" ")).off(y.namespace),t()},_resize:function(){$.iterate.call(W,o),$.iterate.call(_,s),$.iterate.call(_,r)},play:p,pause:function(e){if(e.video&&e.playing){if(e.isYouTube)e.playerReady?e.player.pauseVideo():e.autoPlay=!1;else{var t=e.$container.find("video");t.length&&t[0].pause()}e.playing=!1}},mute:function(e){if(e.video)if(e.isYouTube&&e.playerReady)e.player.mute();else{var t=e.$container.find("video");t.length&&(t[0].muted=!0)}e.mute=!0},unmute:function(e){if(e.video){if(e.isYouTube&&e.playerReady)e.player.unMute();else{var t=e.$container.find("video");t.length&&(t[0].muted=!1)}e.playing=!0}e.mute=!1},resize:m,load:a,unload:function(e){var t=e.$container.find(w.media);1<=t.length&&t.fsTransition({property:"opacity"},function(){t.remove(),delete e.source}).css({opacity:0})}}}),w=v.classes,b=w.raw,y=v.events,$=v.functions,C=n.window,x=n.$window,H=0,W=[],_=[],k="backgroundSize"in n.document.documentElement.style,T=!1,M=[];n.Ready(function(){e(),x.on("scroll",e)}),C.onYouTubeIframeAPIReady=function(){for(var e in T=!0,M)M.hasOwnProperty(e)&&g(M[e].data,M[e].source);M=[]}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./touch"],e):e(jQuery,Formstone)}(function(u,g){"use strict";function h(){j=u(M.base)}function p(e){e.enabled&&(I.clearTimer(e.autoTimer),e.enabled=!1,e.$subordinate.off(P.update),this.removeClass([z.enabled,z.animated].join(" ")).off(P.namespace),e.$canister.fsTouch("destroy").off(P.namespace).attr("style","").css(E,"none"),e.$items.css({width:"",height:""}).removeClass([z.visible,M.item_previous,M.item_next].join(" ")),e.$images.off(P.namespace),e.$controlItems.off(P.namespace),e.$pagination.html("").off(P.namespace),w(e),e.useMargin?e.$canister.css({marginLeft:""}):e.$canister.css(S,""),e.index=0)}function m(e){e.enabled||(e.enabled=!0,this.addClass(z.enabled),e.$controlItems.on(P.click,e,s),e.$pagination.on(P.click,M.page,e,r),e.$items.on(P.click,e,$),e.$subordinate.on(P.update,e,x),x({data:e},0),e.$canister.fsTouch({axis:"x",pan:!0,swipe:!0}).on(P.panStart,e,l).on(P.pan,e,c).on(P.panEnd,e,d).on(P.swipe,e,b).on(P.focusIn,e,C).css(E,""),f(e),e.$images.on(P.load,e,o),e.autoAdvance&&(e.autoTimer=I.startTimer(e.autoTimer,e.autoTime,function(){!function(e){var t=e.index+1;t>=e.pageCount&&(t=0),v(e,t)}(e)},!0)),i.call(this,e))}function i(e){if(e.enabled){var t,i,n,a,o;if(e.count=e.$items.length,e.count<1)return w(e),void e.$canister.css({height:""});if(this.removeClass(z.animated),e.containerWidth=e.$container.outerWidth(!1),e.visible=function(e){var t=1;if(e.single)return t;if("array"===u.type(e.show))for(var i in e.show)e.show.hasOwnProperty(i)&&(g.support.matchMedia?e.show[i].mq.matches&&(t=e.show[i].count):e.show[i].width<g.fallbackWidth&&(t=e.show[i].count));else t=e.show;return e.fill&&e.count<t?e.count:t}(e),e.perPage=e.paged?1:e.visible,e.itemMarginLeft=parseInt(e.$items.eq(0).css("marginLeft")),e.itemMarginRight=parseInt(e.$items.eq(0).css("marginRight")),e.itemMargin=e.itemMarginLeft+e.itemMarginRight,isNaN(e.itemMargin)&&(e.itemMargin=0),e.itemWidth=(e.containerWidth-e.itemMargin*(e.visible-1))/e.visible,e.itemHeight=0,e.pageWidth=e.paged?e.itemWidth:e.containerWidth,e.matchWidth)e.canisterWidth=e.single?e.containerWidth:(e.itemWidth+e.itemMargin)*e.count;else for(e.canisterWidth=0,e.$canister.css({width:1e6}),t=0;t<e.count;t++)e.canisterWidth+=e.$items.eq(t).outerWidth(!0);e.$canister.css({width:e.canisterWidth,height:""}),e.$items.css({width:e.matchWidth?e.itemWidth:"",height:""}).removeClass([z.visible,z.item_previous,z.item_next].join(" ")),e.pages=[],e.items=[];var s,r=0,l=0,c=0;for(a=n=0,i=u(),t=0;t<e.count;t++)s=e.$items.eq(t),r=e.matchWidth?e.itemWidth+e.itemMargin:s.outerWidth(!0),l=s.outerHeight(),c=s.position().left,e.items.push({$el:s,width:r,left:e.rtl?c-(e.canisterWidth-r):c}),(i.length&&n+r>e.containerWidth+e.itemMargin||e.paged&&0<t)&&(o=(e.rtl?i.eq(i.length-1):i.eq(0)).position().left,e.pages.push({left:e.rtl?o-(e.canisterWidth-n):o,height:a,width:n,$items:i}),i=u(),n=a=0),i=i.add(s),n+=r,r,a<l&&(a=l),a>e.itemHeight&&(e.itemHeight=a);e.rtl?i.eq(i.length-1):i.eq(0),o=e.canisterWidth-e.containerWidth-(e.rtl?e.itemMarginLeft:e.itemMarginRight),e.pages.push({left:e.rtl?-o:o,height:a,width:n,$items:i}),e.pageCount=e.pages.length,e.paged&&(e.pageCount-=e.count%e.visible),e.pageCount<=0&&(e.pageCount=1),e.maxMove=-e.pages[e.pageCount-1].left,e.autoHeight?e.$canister.css({height:e.pages[0].height}):e.matchHeight&&e.$items.css({height:e.itemHeight});var d="";for(t=0;t<e.pageCount;t++)d+='<button type="button" class="'+z.page+'">'+(t+1)+"</button>";e.$pagination.html(d),e.pageCount<=1?w(e):function(e){e.$controls.addClass(z.visible),e.$controlItems.addClass(z.visible),e.$pagination.addClass(z.visible)}(e),e.$paginationItems=e.$pagination.find(M.page),v(e,e.index,!1),setTimeout(function(){e.$el.addClass(z.animated)},5)}}function f(e){e.$items=e.$canister.children().not(":hidden").addClass(z.item),e.$images=e.$canister.find("img"),e.totalImages=e.$images.length}function t(e,t){e.$images.off(P.namespace),!1!==t&&e.$canister.html(t),e.index=0,f(e),i.call(this,e)}function e(e,t,i,n,a){e.enabled&&(I.clearTimer(e.autoTimer),void 0===a&&(a=!0),v(e,t-1,a,i,n))}function n(e){var t=e.index-1;e.infinite&&t<0&&(t=e.pageCount-1),v(e,t)}function a(e){var t=e.index+1;e.infinite&&t>=e.pageCount&&(t=0),v(e,t)}function o(e){var t=e.data;t.resizeTimer=I.startTimer(t.resizeTimer,1,function(){i.call(t.$el,t)})}function s(e){I.killEvent(e);var t=e.data,i=t.index+(u(e.currentTarget).hasClass(z.control_next)?1:-1);I.clearTimer(t.autoTimer),v(t,i)}function r(e){I.killEvent(e);var t=e.data,i=t.$paginationItems.index(u(e.currentTarget));I.clearTimer(t.autoTimer),v(t,i)}function v(e,t,i,n,a){if(t<0&&(t=e.infinite?e.pageCount-1:0),t>=e.pageCount&&(t=e.infinite?0:e.pageCount-1),!(e.count<1)){if(e.pages[t]&&(e.leftPosition=-e.pages[t].left),e.leftPosition=H(e,e.leftPosition),e.useMargin?e.$canister.css({marginLeft:e.leftPosition}):!1===i?(e.$canister.css(E,"none").css(S,"translateX("+e.leftPosition+"px)"),setTimeout(function(){e.$canister.css(E,"")},5)):e.$canister.css(S,"translateX("+e.leftPosition+"px)"),e.$items.removeClass([z.visible,z.item_previous,z.item_next].join(" ")),e.single)for(var o=0,s=e.pages.length;o<s;o++)o===t?e.pages[o].$items.addClass(z.visible).attr("aria-hidden","false"):e.pages[o].$items.not(e.pages[t].$items).addClass(o<t?z.item_previous:z.item_next).attr("aria-hidden","true");else for(o=0;o<e.count;o++){var r=e.rtl?-1:1,l=e.leftPosition*r+e.items[o].left*r,c=l+e.items[o].width,d=e.containerWidth+e.itemMargin+1;-1<=l&&c<=d?e.items[o].$el.addClass(z.visible).attr("aria-hidden","false"):l<0?e.items[o].$el.addClass(z.item_previous).attr("aria-hidden","false"):e.items[o].$el.addClass(z.item_next).attr("aria-hidden","false")}e.autoHeight&&e.$canister.css({height:e.pages[t].height}),!1!==i&&!0!==n&&t!==e.index&&(e.infinite||-1<t&&t<e.pageCount)&&e.$el.trigger(P.update,[t]),e.index=t,e.linked&&!0!==a&&u(e.linked).not(e.$el)[T]("jumpPage",e.index+1,!0,!0),function(e){e.$paginationItems.removeClass(z.active).eq(e.index).addClass(z.active),e.infinite?e.$controlItems.addClass(z.visible):e.pageCount<1?e.$controlItems.removeClass(z.visible):(e.$controlItems.addClass(z.visible),e.index<=0?e.$controlPrevious.removeClass(z.visible):(e.index>=e.pageCount-1||!e.single&&e.leftPosition===e.maxMove)&&e.$controlNext.removeClass(z.visible))}(e)}}function w(e){e.$controls.removeClass(z.visible),e.$controlItems.removeClass(z.visible),e.$pagination.removeClass(z.visible)}function l(e,t){var i=e.data;if(I.clearTimer(i.autoTimer),!i.single){if(i.useMargin)i.leftPosition=parseInt(i.$canister.css("marginLeft"));else{var n=i.$canister.css(S).split(",");i.leftPosition=parseInt(n[4])}if(i.$canister.css(E,"none").css("will-change","transform"),c(e),i.linked&&!0!==t){var a=e.deltaX/i.pageWidth;i.rtl&&(a*=-1),u(i.linked).not(i.$el)[T]("panStart",a)}}i.isTouching=!0}function c(e,t){var i=e.data;if(!i.single&&(i.touchLeft=H(i,i.leftPosition+e.deltaX),i.useMargin?i.$canister.css({marginLeft:i.touchLeft}):i.$canister.css(S,"translateX("+i.touchLeft+"px)"),i.linked&&!0!==t)){var n=e.deltaX/i.pageWidth;i.rtl&&(n*=-1),u(i.linked).not(i.$el)[T]("pan",n)}}function d(e,t){var i=e.data,n=Math.abs(e.deltaX),a=W(i,e),o=!1;if(i.didPan=!1,0==a)o=i.index;else{if(!i.single){var s,r,l=Math.abs(i.touchLeft),c=!1,d=i.rtl?"right":"left";if(e.directionX===d)for(s=0,r=i.pages.length;s<r;s++)c=i.pages[s],l>Math.abs(c.left)+20&&(o=s+1);else for(s=i.pages.length-1,r=0;r<=s;s--)c=i.pages[s],l<Math.abs(c.left)&&(o=s-1)}!1===o&&(o=n<50?i.index:i.index+a)}o!==i.index&&(i.didPan=!0),i.linked&&!0!==t&&u(i.linked).not(i.$el)[T]("panEnd",o),y(i,o)}function b(e,t){var i=e.data,n=W(i,e),a=i.index+n;i.linked&&!0!==t&&u(i.linked).not(i.$el)[T]("swipe",e.directionX),y(i,a)}function y(e,t){e.$canister.css(E,"").css("will-change",""),v(e,t),e.isTouching=!1}function $(e){var t=e.data,i=u(e.currentTarget);if(!t.didPan&&(i.trigger(P.itemClick),t.controller)){var n=t.$items.index(i);x(e,n),t.$subordinate[T]("jumpPage",n+1,!0)}}function C(e){var t=e.data;if(t.enabled&&!t.isTouching){I.clearTimer(t.autoTimer),t.$container.scrollLeft(0);var i,n=u(e.target);n.hasClass(z.item)?i=n:n.parents(M.item).length&&(i=n.parents(M.item).eq(0));for(var a=0;a<t.pageCount;a++)if(t.pages[a].$items.is(i)){v(t,a);break}}}function x(e,t){var i=e.data;if(i.controller){var n=i.$items.eq(t);i.$items.removeClass(z.active),n.addClass(z.active);for(var a=0;a<i.pageCount;a++)if(i.pages[a].$items.is(n)){v(i,a,!0,!0);break}}}function H(e,t){return isNaN(t)?t=0:e.rtl?(t>e.maxMove&&(t=e.maxMove),t<0&&(t=0)):(t<e.maxMove&&(t=e.maxMove),0<t&&(t=0)),t}function W(e,t){return Math.abs(t.deltaX)<Math.abs(t.deltaY)?0:e.rtl?"right"===t.directionX?1:-1:"left"===t.directionX?1:-1}var _=g.Plugin("carousel",{widget:!0,defaults:{autoAdvance:!1,autoHeight:!1,autoTime:8e3,contained:!0,controls:!0,customClass:"",fill:!1,infinite:!1,labels:{next:"Next",previous:"Previous",controls:"Carousel {guid} Controls",pagination:"Carousel {guid} Pagination"},matchHeight:!1,matchWidth:!0,maxWidth:1/0,minWidth:"0px",paged:!1,pagination:!0,rtl:!1,show:1,single:!1,theme:"fs-light",useMargin:!1},classes:["ltr","rtl","viewport","wrapper","container","canister","item","item_previous","item_next","controls","controls_custom","control","control_previous","control_next","pagination","page","animated","enabled","visible","active","auto_height","contained","single"],events:{itemClick:"itemClick",update:"update"},methods:{_construct:function(e){var t;e.didPan=!1,e.carouselClasses=[z.base,e.theme,e.customClass,e.rtl?z.rtl:z.ltr],e.maxWidth=e.maxWidth===1/0?"100000px":e.maxWidth,e.mq="(min-width:"+e.minWidth+") and (max-width:"+e.maxWidth+")",e.customControls="object"===u.type(e.controls)&&e.controls.previous&&e.controls.next,e.customPagination="string"===u.type(e.pagination),e.id=this.attr("id"),e.id?e.ariaId=e.id:(e.ariaId=e.rawGuid,this.attr("id",e.ariaId)),g.support.transform||(e.useMargin=!0);var i="",n="",a=[z.control,z.control_previous].join(" "),o=[z.control,z.control_next].join(" ");e.controls&&!e.customControls&&(e.labels.controls=e.labels.controls.replace("{guid}",e.numGuid),i+='<div class="'+z.controls+'" aria-label="'+e.labels.controls+'" aria-controls="'+e.ariaId+'">',i+='<button type="button" class="'+a+'" aria-label="'+e.labels.previous+'">'+e.labels.previous+"</button>",i+='<button type="button" class="'+o+'" aria-label="'+e.labels.next+'">'+e.labels.next+"</button>",i+="</div>"),e.pagination&&!e.customPagination&&(e.labels.pagination=e.labels.pagination.replace("{guid}",e.numGuid),n+='<div class="'+z.pagination+'" aria-label="'+e.labels.pagination+'" aria-controls="'+e.ariaId+'" role="navigation">',n+="</div>"),e.autoHeight&&e.carouselClasses.push(z.auto_height),e.contained&&e.carouselClasses.push(z.contained),e.single&&e.carouselClasses.push(z.single),this.addClass(e.carouselClasses.join(" ")).wrapInner('<div class="'+z.wrapper+'" aria-live="polite"><div class="'+z.container+'"><div class="'+z.canister+'"></div></div></div>').append(i).wrapInner('<div class="'+z.viewport+'"></div>').append(n),e.$viewport=this.find(M.viewport).eq(0),e.$container=this.find(M.container).eq(0),e.$canister=this.find(M.canister).eq(0),e.$pagination=this.find(M.pagination).eq(0),e.$controlPrevious=e.$controlNext=u(""),e.customControls?(e.$controls=u(e.controls.container).addClass([z.controls,z.controls_custom].join(" ")),e.$controlPrevious=u(e.controls.previous).addClass(a),e.$controlNext=u(e.controls.next).addClass(o)):(e.$controls=this.find(M.controls).eq(0),e.$controlPrevious=e.$controls.find(M.control_previous),e.$controlNext=e.$controls.find(M.control_next)),e.$controlItems=e.$controlPrevious.add(e.$controlNext),e.customPagination&&(e.$pagination=u(e.pagination).addClass([z.pagination])),e.$paginationItems=e.$pagination.find(M.page),e.index=0,e.enabled=!1,e.leftPosition=0,e.autoTimer=null,e.resizeTimer=null;var s=this.data(k+"-linked");e.linked=!!s&&"[data-"+k+'-linked="'+s+'"]',e.linked&&(e.paged=!0);var r=this.data(k+"-controller-for")||"";if(e.$subordinate=u(r),e.$subordinate.length&&(e.controller=!0),"object"===u.type(e.show)){var l=e.show,c=[],d=[];for(t in l)l.hasOwnProperty(t)&&d.push(t);for(t in d.sort(I.sortAsc),d)d.hasOwnProperty(t)&&c.push({width:parseInt(d[t]),count:l[d[t]],mq:window.matchMedia("(min-width: "+parseInt(d[t])+"px)")});e.show=c}f(e),u.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){m.call(e.$el,e)},leave:function(){p.call(e.$el,e)}}),h(),e.carouselClasses.push(z.enabled),e.carouselClasses.push(z.animated)},_destruct:function(e){I.clearTimer(e.autoTimer),I.clearTimer(e.resizeTimer),p.call(this,e),u.fsMediaquery("unbind",e.rawGuid),e.id!==e.ariaId&&this.removeAttr("id"),e.$controlItems.removeClass([M.control,z.control_previous,M.control_next,M.visible].join(" ")).off(P.namespace),e.$images.off(P.namespace),e.$canister.fsTouch("destroy"),e.$items.removeClass([z.item,z.visible,M.item_previous,M.item_next].join(" ")).unwrap().unwrap().unwrap().unwrap(),e.controls&&!e.customControls&&e.$controls.remove(),e.customControls&&e.$controls.removeClass([z.controls,z.controls_custom,z.visible].join(" ")),e.pagination&&!e.customPagination&&e.$pagination.remove(),e.customPagination&&e.$pagination.html("").removeClass([z.pagination,z.visible].join(" ")),this.removeClass(e.carouselClasses.join(" ")),h()},_resize:function(e){I.iterate.call(j,i)},disable:p,enable:m,jump:e,previous:n,next:a,jumpPage:e,previousPage:n,nextPage:a,jumpItem:function(e,t,i,n,a){if(e.enabled){I.clearTimer(e.autoTimer);var o=e.$items.eq(t-1);void 0===a&&(a=!0);for(var s=0;s<e.pageCount;s++)if(e.pages[s].$items.is(o)){v(e,s,a,i,n);break}}},reset:function(e){e.enabled&&t.call(this,e,!1)},resize:i,update:t,panStart:function(e,t){if(I.clearTimer(e.autoTimer),!e.single){if(e.rtl&&(t*=-1),e.useMargin)e.leftPosition=parseInt(e.$canister.css("marginLeft"));else{var i=e.$canister.css(S).split(",");e.leftPosition=parseInt(i[4])}e.$canister.css(E,"none"),c({data:e,deltaX:e.pageWidth*t},!0)}e.isTouching=!0},pan:function(e,t){if(!e.single){e.rtl&&(t*=-1);var i=e.pageWidth*t;e.touchLeft=H(e,e.leftPosition+i),e.useMargin?e.$canister.css({marginLeft:e.touchLeft}):e.$canister.css(S,"translateX("+e.touchLeft+"px)")}},panEnd:function(e,t){y(e,t)},swipe:function(e,t){b({data:e,directionX:t},!0)}}}),k=_.namespace,T=_.namespaceClean,M=_.classes,z=M.raw,P=_.events,I=_.functions,j=[],S=g.transform,E=g.transition}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(r,e){"use strict";function t(){h=g.height(),u.iterate.call(f,l)}function i(){f=r(s.base),t()}function n(e){if(e.hasParent){var t=e.$parent.scrollTop();t!==e.parentScroll&&(a(e),e.parentScroll=t)}}function l(e){if(e.initialized){switch(e.parentHeight=e.hasParent?e.$parent.outerHeight(!1):h,e.windowIntersect){case"top":e.windowCheck=0-e.offset;break;case"middle":case"center":e.windowCheck=e.parentHeight/2-e.offset;break;case"bottom":e.windowCheck=e.parentHeight-e.offset}switch(e.elOffset=e.$target.offset(),e.elIntersect){case"top":e.elCheck=e.elOffset.top;break;case"middle":e.elCheck=e.elOffset.top+e.$target.outerHeight()/2;break;case"bottom":e.elCheck=e.elOffset.top+e.$target.outerHeight()}if(e.hasParent){var t=e.$parent.offset();e.elCheck-=t.top}a(e)}}function a(e){e.initialized&&(e.windowCheck+(e.hasParent?e.parentScroll:p)>=e.elCheck?(e.active||e.$el.trigger(d.activate),e.active=!0,e.$el.addClass(c.active)):e.reverse&&(e.active&&e.$el.trigger(d.deactivate),e.active=!1,e.$el.removeClass(c.active)))}var o=e.Plugin("checkpoint",{widget:!0,defaults:{intersect:"bottom-top",offset:0,reverse:!1},classes:["active"],events:{activate:"activate",deactivate:"deactivate"},methods:{_construct:function(e){e.initialized=!1;var t=r(e.$el.data("checkpoint-parent")),i=r(e.$el.data("checkpoint-container")),n=e.$el.data("checkpoint-intersect"),a=e.$el.data("checkpoint-offset");n&&(e.intersect=n),a&&(e.offset=a);var o=e.intersect.split("-");e.windowIntersect=o[0],e.elIntersect=o[1],e.visible=!1,e.$target=i.length?i:e.$el,e.hasParent=0<t.length,e.$parent=t;var s=e.$target.find("img");s.length&&s.on(d.load,e,l),e.$el.addClass(c.base),e.initialized=!0},_postConstruct:function(e){i(),t()},_destruct:function(e){e.$el.removeClass(c.base),i()},_resize:t,_raf:function(){(p=g.scrollTop())<0&&(p=0),p!==m&&(u.iterate.call(f,a),m=p),u.iterate.call(f,n)},resize:l}}),s=(o.namespace,o.classes),c=s.raw,d=o.events,u=o.functions,g=(e.window,e.$window),h=0,p=0,m=0,f=[]}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(d,e){"use strict";function n(e,t,i){var n=!1,a=new Date;i.expires&&"number"===d.type(i.expires)&&(a.setTime(a.getTime()+i.expires),n=a.toGMTString());var o=i.domain?"; domain="+i.domain:"",s=n?"; expires="+n:"",r=n?"; max-age="+i.expires/1e3:"",l=i.path?"; path="+i.path:"",c=i.secure?"; secure":"";u.cookie=e+"="+t+s+r+o+l+c}e.Plugin("cookie",{utilities:{_delegate:function(e,t,i){if("object"===d.type(e))a=d.extend(a,e);else if(i=d.extend({},a,i||{}),"undefined"!==d.type(e)){if("undefined"===d.type(t))return function(e){for(var t=e+"=",i=u.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}(e);null===t?function(e,t){n(e,"",d.extend({},t,{expires:-6048e5}))}(e,i):n(e,t,i)}return null}}});var a={domain:null,expires:6048e5,path:null,secure:null},u=e.document}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(t,e){"use strict";function i(){c=t(s.element)}function n(e){if(e.data&&(e=e.data),e.enabled)for(var t,i,n,a=0;a<e.target.length;a++){i=t=0,(n=e.$el.find(e.target[a])).css(e.property,"");for(var o=0;o<n.length;o++)(i=n.eq(o)[e.type]())>t&&(t=i);n.css(e.property,t)}}function a(e){for(var t=0;t<e.target.length;t++)e.$el.find(e.target[t]).css(e.property,"");e.$el.find("img").off(r.namespace)}var o=e.Plugin("equalize",{widget:!0,priority:5,defaults:{maxWidth:1/0,minWidth:"0px",property:"height",target:null},methods:{_construct:function(e){e.maxWidth=e.maxWidth===1/0?"100000px":e.maxWidth,e.mq="(min-width:"+e.minWidth+") and (max-width:"+e.maxWidth+")",e.type="height"===e.property?"outerHeight":"outerWidth",e.target?t.isArray(e.target)||(e.target=[e.target]):e.target=["> *"],i(),t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){(function(e){if(!e.enabled){e.enabled=!0;var t=e.$el.find("img");t.length&&t.on(r.load,e,n),n(e)}}).call(e.$el,e)},leave:function(){(function(e){e.enabled&&(e.enabled=!1,a(e))}).call(e.$el,e)}})},_destruct:function(e){a(e),t.fsMediaquery("unbind",e.rawGuid),i()},_resize:function(e){l.iterate.call(c,n)},resize:n}}),s=o.classes,r=(s.raw,o.events),l=o.functions,c=[]}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./touch","./transition","./viewer"],e):e(jQuery,Formstone)}(function(b,y){"use strict";function i(e){if(!R){var t=e.data;!0===t.overlay&&(t.mobile=!0),(R=b.extend({},{visible:!1,gallery:{active:!1},isMobile:y.isMobile||t.mobile,isTouch:y.support.touch,isAnimating:!0,isZooming:!1,oldContentHeight:0,oldContentWidth:0,metaHeight:0,thumbnailHeight:0,captionOpen:!1,thumbnailsOpen:!1,tapTimer:null},t)).isViewer=R.isMobile&&t.viewer&&void 0!==b.fn.fsViewer;var i=t.$el,n=t.$object,a=i&&i[0].href&&i[0].href||"",o=i&&i[0].hash&&i[0].hash||"",s=(a.toLowerCase().split(".").pop().split(/\#|\?/),i?i.data(S+"-type"):""),r="image"===s||a.match(t.fileTypes)||"data:image"===a.substr(0,10),l=I(a),c="url"===s||!r&&!l&&"http"===a.substr(0,4)&&!o,d="element"===s||!r&&!l&&!c&&"#"===o.substr(0,1),u=void 0!==n;if(d&&(a=o),!(r||l||c||d||u))return void(R=null);if(O.killEvent(e),R.margin*=2,R.type=r?"image":l?"video":"element",r||l){var g=i.data(S+"-gallery");g&&(R.gallery.active=!0,R.gallery.id=g,R.gallery.$items=b("a[data-lightbox-gallery= "+R.gallery.id+"], a[rel= "+R.gallery.id+"]"),R.gallery.index=R.gallery.$items.index(R.$el),R.gallery.total=R.gallery.$items.length-1)}R.thumbnails&&(r||l)&&R.gallery.active||(R.thumbnails=!1);var h="";R.isMobile||(h+='<div class="'+[L.overlay,R.theme,R.customClass].join(" ")+'"></div>');var p=[L.base,L.loading,L.animating,R.theme,R.customClass];if(R.fixed&&p.push(L.fixed),R.isMobile&&p.push(L.mobile),R.isTouch&&p.push(L.touch),c&&p.push(L.iframed),(d||u)&&p.push(L.inline),R.thumbnails&&p.push(L.thumbnailed),R.labels.lightbox=R.labels.lightbox.replace("{guid}",t.numGuid),h+='<div class="'+p.join(" ")+'" role="dialog" aria-label="'+R.labels.lightbox+'" tabindex="-1">',h+='<button type="button" class="'+L.close+'">'+R.labels.close+"</button>",h+='<span class="'+L.loading_icon+'"></span>',h+='<div class="'+L.container+'">',R.gallery.active&&R.thumbnails){h+='<div class="'+[L.thumbnails]+'">',h+='<div class="'+[L.thumbnail_container]+'">';for(var m,f,v=0,w=R.gallery.$items.length;v<w;v++)(f=(m=R.gallery.$items.eq(v)).data("lightbox-thumbnail"))||(f=m.find("img").attr("src")),h+='<button class="'+[L.thumbnail_item]+'">',h+='<img src="'+f+'" alt="">',h+="</button>";h+="</div></div>"}h+='<div class="'+L.content+'"></div>',(r||l)&&(h+='<div class="'+L.tools+'">',h+='<div class="'+L.controls+'">',R.gallery.active&&(h+='<button type="button" class="'+[L.control,L.control_previous].join(" ")+'">'+R.labels.previous+"</button>",h+='<button type="button" class="'+[L.control,L.control_next].join(" ")+'">'+R.labels.next+"</button>"),R.isMobile&&R.isTouch&&(h+='<button type="button" class="'+[L.toggle,L.caption_toggle].join(" ")+'">'+R.labels.captionClosed+"</button>",R.gallery.active&&R.thumbnails&&(h+='<button type="button" class="'+[L.toggle,L.thumbnail_toggle].join(" ")+'">'+R.labels.thumbnailsClosed+"</button>")),h+="</div>",h+='<div class="'+L.meta+'">',h+='<div class="'+L.meta_content+'">',R.gallery.active&&(h+='<p class="'+L.position+'"',R.gallery.total<1&&(h+=' style="display: none;"'),h+=">",h+='<span class="'+L.position_current+'">'+(R.gallery.index+1)+"</span> ",h+=R.labels.count,h+=' <span class="'+L.position_total+'">'+(R.gallery.total+1)+"</span>",h+="</p>"),h+='<div class="'+L.caption+'">',h+=R.formatter.call(i,t),h+="</div></div></div>",h+="</div>"),h+="</div></div>",D.append(h),R.$overlay=b(E.overlay),R.$lightbox=b(E.base),R.$close=b(E.close),R.$container=b(E.container),R.$content=b(E.content),R.$tools=b(E.tools),R.$meta=b(E.meta),R.$metaContent=b(E.meta_content),R.$position=b(E.position),R.$caption=b(E.caption),R.$controlBox=b(E.controls),R.$controls=b(E.control),R.$thumbnails=b(E.thumbnails),R.$thumbnailContainer=b(E.thumbnail_container),R.$thumbnailItems=b(E.thumbnail_item),R.isMobile?(R.paddingVertical=R.$close.outerHeight(),R.paddingHorizontal=0,R.mobilePaddingVertical=parseInt(R.$content.css("paddingTop"),10)+parseInt(R.$content.css("paddingBottom"),10),R.mobilePaddingHorizontal=parseInt(R.$content.css("paddingLeft"),10)+parseInt(R.$content.css("paddingRight"),10)):(R.paddingVertical=parseInt(R.$lightbox.css("paddingTop"),10)+parseInt(R.$lightbox.css("paddingBottom"),10),R.paddingHorizontal=parseInt(R.$lightbox.css("paddingLeft"),10)+parseInt(R.$lightbox.css("paddingRight"),10),R.mobilePaddingVertical=0,R.mobilePaddingHorizontal=0),R.contentHeight=R.$lightbox.outerHeight()-R.paddingVertical,R.contentWidth=R.$lightbox.outerWidth()-R.paddingHorizontal,R.controlHeight=R.$controls.outerHeight(),function(){var e=C();R.$lightbox.css({top:R.fixed?0:e.top})}(),R.gallery.active&&(R.$lightbox.addClass(L.has_controls),M()),q.on(A.keyDown,z),D.on(A.click,[E.overlay,E.close].join(", "),$).on([A.focus,A.focusIn].join(" "),j),R.gallery.active&&R.$lightbox.on(A.click,E.control,k),R.thumbnails&&R.$lightbox.on(A.click,E.thumbnail_item,T),R.isMobile&&R.isTouch&&R.$lightbox.on(A.click,E.caption_toggle,x).on(A.click,E.thumbnail_toggle,H),R.$lightbox.fsTransition({property:"opacity"},function(){r?W(a):l?_(a):c?function(e){e+=-1<e.indexOf("?")?"&"+R.requestKey+"=true":"?"+R.requestKey+"=true",P(b('<iframe class="'+L.iframe+'" src="'+e+'"></iframe>'))}(a):d?function(e){R.$inlineTarget=b(e),R.$inlineContents=R.$inlineTarget.children().detach(),P(R.$inlineContents)}(a):u&&P(R.$object)}).addClass(L.open),R.$overlay.addClass(L.open)}}function e(e){"object"!=typeof e&&(R.targetHeight=e,R.targetWidth=arguments[1]),"element"===R.type?d(R.$content.find("> :first-child")):"image"===R.type?t():"video"===R.type&&r(),function(){if(R.visible&&!R.isMobile){var e=C();R.$controls.css({marginTop:(R.contentHeight-R.controlHeight-R.metaHeight+R.thumbnailHeight)/2}),R.$lightbox.css({height:R.contentHeight+R.paddingVertical,width:R.contentWidth+R.paddingHorizontal,top:R.fixed?0:e.top}),R.oldContentHeight=R.contentHeight,R.oldContentWidth=R.contentWidth}}()}function $(e){O.killEvent(e),R&&(R.$lightbox.fsTransition("destroy"),R.$content.fsTransition("destroy"),R.$lightbox.addClass(L.animating).fsTransition({property:"opacity"},function(e){void 0!==R.$inlineTarget&&R.$inlineTarget.length&&R.$inlineTarget.append(R.$inlineContents.detach()),R.isViewer&&R.$imageContainer&&R.$imageContainer.length&&R.$imageContainer.fsViewer("destroy"),R.$lightbox.off(A.namespace),R.$container.off(A.namespace),q.off(A.keyDown),D.off(A.namespace),D.off(A.namespace),R.$overlay.remove(),R.$lightbox.remove(),void 0!==R.$el&&R.$el&&R.$el.length&&R.$el.focus(),R=null,q.trigger(A.close)}),R.$lightbox.removeClass(L.open),R.$overlay.removeClass(L.open),R.isMobile&&(m.removeClass(L.lock),O.unlockViewport(S)))}function a(){var e=C();R.isMobile||R.duration,R.isMobile?O.lockViewport(S):R.$controls.css({marginTop:(R.contentHeight-R.controlHeight-R.metaHeight+R.thumbnailHeight)/2}),""===R.$caption.html()?(R.$caption.hide(),R.$lightbox.removeClass(L.has_caption),R.gallery.active||R.$tools.hide()):(R.$caption.show(),R.$lightbox.addClass(L.has_caption)),R.$lightbox.fsTransition({property:R.contentHeight!==R.oldContentHeight?"height":"width"},function(){R.$content.fsTransition({property:"opacity"},function(){R.$lightbox.removeClass(L.animating),R.isAnimating=!1}),R.$lightbox.removeClass(L.loading).addClass(L.ready),R.visible=!0,q.trigger(A.open),R.gallery.active&&(function(e){var t="";0<R.gallery.index&&(I(t=R.gallery.$items.eq(R.gallery.index-1).attr("href"))||b('<img src="'+t+'">')),R.gallery.index<R.gallery.total&&(I(t=R.gallery.$items.eq(R.gallery.index+1).attr("href"))||b('<img src="'+t+'">'))}(),l(),function(){if(R.thumbnails){var e=R.$thumbnailItems.eq(R.gallery.index),t=e.position().left+e.outerWidth(!1)/2-R.$thumbnailContainer.outerWidth(!0)/2;R.$thumbnailContainer.stop().animate({scrollLeft:t},200,"linear")}}()),R.$lightbox.focus()}),R.isMobile||R.$lightbox.css({height:R.contentHeight+R.paddingVertical,width:R.contentWidth+R.paddingHorizontal,top:R.fixed?0:e.top});var t=R.oldContentHeight!==R.contentHeight||R.oldContentWidth!==R.contentWidth;!R.isMobile&&t||R.$lightbox.fsTransition("resolve"),R.oldContentHeight=R.contentHeight,R.oldContentWidth=R.contentWidth,R.isMobile&&m.addClass(L.lock)}function C(){if(R.isMobile)return{left:0,top:0};var e={left:(y.windowWidth-R.contentWidth-R.paddingHorizontal)/2,top:R.top<=0?(y.windowHeight-R.contentHeight-R.paddingVertical)/2:R.top};return!0!==R.fixed&&(e.top+=q.scrollTop()),e}function x(e){if(O.killEvent(e),R.captionOpen)n();else{o();var t=parseInt(R.$metaContent.outerHeight(!0));t+=parseInt(R.$meta.css("padding-top")),t+=parseInt(R.$meta.css("padding-bottom")),R.$meta.css({height:t}),R.$lightbox.addClass(L.caption_open).find(E.caption_toggle).text(R.labels.captionOpen),R.captionOpen=!0}}function n(){R.$lightbox.removeClass(L.caption_open).find(E.caption_toggle).text(R.labels.captionClosed),R.captionOpen=!1}function H(e){O.killEvent(e),R.thumbnailsOpen?o():(n(),R.$lightbox.addClass(L.thumbnails_open).find(E.thumbnail_toggle).text(R.labels.thumbnailsOpen),R.thumbnailsOpen=!0)}function o(){R.$lightbox.removeClass(L.thumbnails_open).find(E.thumbnail_toggle).text(R.labels.thumbnailsClosed),R.thumbnailsOpen=!1}function W(e){R.isViewer?(R.$imageContainer=b('<div class="'+L.image_container+'"><img></div>'),R.$image=R.$imageContainer.find("img"),R.$image.attr("src",e).addClass(L.image),R.$content.prepend(R.$imageContainer),t(),R.$imageContainer.one("loaded.viewer",function(){a()}).fsViewer({theme:R.theme})):(R.$imageContainer=b('<div class="'+L.image_container+'"><img></div>'),R.$image=R.$imageContainer.find("img"),R.$image.one(A.load,function(){var e=function(e){var t=e[0],i=new Image;return void 0!==t.naturalHeight?{naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth}:"img"===t.tagName.toLowerCase()&&(i.src=t.src,{naturalHeight:i.height,naturalWidth:i.width})}(R.$image);R.naturalHeight=e.naturalHeight,R.naturalWidth=e.naturalWidth,R.retina&&(R.naturalHeight/=2,R.naturalWidth/=2),R.$content.prepend(R.$imageContainer),t(),a()}).on(A.error,u).attr("src",e).addClass(L.image),(R.$image[0].complete||4===R.$image[0].readyState)&&R.$image.trigger(A.load))}function t(){if(R.$image){var e=0;for(R.windowHeight=R.viewportHeight=y.windowHeight-R.mobilePaddingVertical-R.paddingVertical,R.windowWidth=R.viewportWidth=y.windowWidth-R.mobilePaddingHorizontal-R.paddingHorizontal,R.contentHeight=1/0,R.contentWidth=1/0,R.imageMarginTop=0,R.imageMarginLeft=0;R.contentHeight>R.viewportHeight&&e<2;)R.imageHeight=0===e?R.naturalHeight:R.$image.outerHeight(),R.imageWidth=0===e?R.naturalWidth:R.$image.outerWidth(),R.metaHeight=0===e?0:R.metaHeight,R.spacerHeight=0===e?0:R.spacerHeight,R.thumbnailHeight=0===e?0:R.thumbnailHeight,0===e&&(R.ratioHorizontal=R.imageHeight/R.imageWidth,R.ratioVertical=R.imageWidth/R.imageHeight,R.isWide=R.imageWidth>R.imageHeight),R.imageHeight<R.minHeight&&(R.minHeight=R.imageHeight),R.imageWidth<R.minWidth&&(R.minWidth=R.imageWidth),R.isMobile?(R.isTouch?(R.$controlBox.css({width:y.windowWidth}),R.spacerHeight=R.$controls.outerHeight(!0)):(R.$tools.css({width:y.windowWidth}),R.spacerHeight=R.$tools.outerHeight(!0)),R.contentHeight=R.viewportHeight,R.contentWidth=R.viewportWidth,R.isTouch||R.$content.css({height:R.contentHeight-R.spacerHeight}),R.$thumbnails.length&&(R.spacerHeight+=R.$thumbnails.outerHeight(!0)),R.spacerHeight+=10,s(),R.imageMarginTop=(R.contentHeight-R.targetImageHeight-R.spacerHeight)/2,R.imageMarginLeft=(R.contentWidth-R.targetImageWidth)/2):(0===e&&(R.viewportHeight-=R.margin+R.paddingVertical,R.viewportWidth-=R.margin+R.paddingHorizontal),R.viewportHeight-=R.metaHeight,R.thumbnails&&(R.viewportHeight-=R.thumbnailHeight),s(),R.contentHeight=R.targetImageHeight,R.contentWidth=R.targetImageWidth),R.isMobile||R.isTouch||R.$meta.css({width:R.contentWidth}),R.$image.css({height:R.targetImageHeight,width:R.targetImageWidth,marginTop:R.imageMarginTop,marginLeft:R.imageMarginLeft}),R.isMobile||(R.metaHeight=R.$meta.outerHeight(!0),R.contentHeight+=R.metaHeight),R.thumbnails&&(R.thumbnailHeight=R.$thumbnails.outerHeight(!0),R.contentHeight+=R.thumbnailHeight),e++}}function s(){var e=R.isMobile?R.contentHeight-R.spacerHeight:R.viewportHeight,t=R.isMobile?R.contentWidth:R.viewportWidth;R.isWide?(R.targetImageWidth=t,R.targetImageHeight=R.targetImageWidth*R.ratioHorizontal,R.targetImageHeight>e&&(R.targetImageHeight=e,R.targetImageWidth=R.targetImageHeight*R.ratioVertical)):(R.targetImageHeight=e,R.targetImageWidth=R.targetImageHeight*R.ratioVertical,R.targetImageWidth>t&&(R.targetImageWidth=t,R.targetImageHeight=R.targetImageWidth*R.ratioHorizontal)),(R.targetImageWidth>R.imageWidth||R.targetImageHeight>R.imageHeight)&&(R.targetImageHeight=R.imageHeight,R.targetImageWidth=R.imageWidth),(R.targetImageWidth<R.minWidth||R.targetImageHeight<R.minHeight)&&(R.targetImageWidth<R.minWidth?(R.targetImageWidth=R.minWidth,R.targetImageHeight=R.targetImageWidth*R.ratioHorizontal):(R.targetImageHeight=R.minHeight,R.targetImageWidth=R.targetImageHeight*R.ratioVertical))}function _(e){var t=I(e),i=e.split("?"),n="&origin="+encodeURIComponent(window.location.protocol+"//"+window.location.hostname);t?(2<=i.length&&(t+="?"+i.slice(1)[0].trim()),R.$videoWrapper=b('<div class="'+L.video_wrapper+'"></div>'),R.$video=b('<iframe class="'+L.video+'" frameborder="0" seamless="seamless" allowfullscreen></iframe>'),R.$video.attr("src",t+"&enablejsapi=1"+n).addClass(L.video).prependTo(R.$videoWrapper),R.$content.prepend(R.$videoWrapper),r(),a()):u()}function r(){R.windowHeight=R.viewportHeight=y.windowHeight-R.mobilePaddingVertical-R.paddingVertical,R.windowWidth=R.viewportWidth=y.windowWidth-R.mobilePaddingHorizontal-R.paddingHorizontal,R.videoMarginTop=0,R.videoMarginLeft=0,R.isMobile?(R.isTouch?(R.$controlBox.css({width:y.windowWidth}),R.spacerHeight=R.$controls.outerHeight(!0)+10):(R.$tools.css({width:y.windowWidth}),R.spacerHeight=R.$tools.outerHeight(!0),R.spacerHeight+=R.$thumbnails.outerHeight(!0)+10),R.viewportHeight-=R.spacerHeight,R.targetVideoWidth=R.viewportWidth,R.targetVideoHeight=R.targetVideoWidth*R.videoRatio,R.targetVideoHeight>R.viewportHeight&&(R.targetVideoHeight=R.viewportHeight,R.targetVideoWidth=R.targetVideoHeight/R.videoRatio),R.videoMarginTop=(R.viewportHeight-R.targetVideoHeight)/2,R.videoMarginLeft=(R.viewportWidth-R.targetVideoWidth)/2):(R.viewportHeight=R.windowHeight-R.margin,R.viewportWidth=R.windowWidth-R.margin,R.targetVideoWidth=R.videoWidth>R.viewportWidth?R.viewportWidth:R.videoWidth,R.targetVideoWidth<R.minWidth&&(R.targetVideoWidth=R.minWidth),R.targetVideoHeight=R.targetVideoWidth*R.videoRatio,R.contentHeight=R.targetVideoHeight,R.contentWidth=R.targetVideoWidth),R.isMobile||R.isTouch||R.$meta.css({width:R.contentWidth}),R.$videoWrapper.css({height:R.targetVideoHeight,width:R.targetVideoWidth,marginTop:R.videoMarginTop,marginLeft:R.videoMarginLeft}),R.isMobile||(R.metaHeight=R.$meta.outerHeight(!0),R.contentHeight+=R.metaHeight),R.thumbnails&&(R.thumbnailHeight=R.$thumbnails.outerHeight(!0),R.contentHeight+=R.thumbnailHeight)}function k(e){O.killEvent(e);var t=b(e.currentTarget);R.isAnimating||t.hasClass(L.control_disabled)||(R.isAnimating=!0,n(),R.gallery.index+=t.hasClass(L.control_next)?1:-1,R.gallery.index>R.gallery.total&&(R.gallery.index=R.infinite?0:R.gallery.total),R.gallery.index<0&&(R.gallery.index=R.infinite?R.gallery.total:0),l(),R.$lightbox.addClass(L.animating),R.$content.fsTransition({property:"opacity"},c),R.$lightbox.addClass(L.loading))}function T(e){O.killEvent(e);var t=b(e.currentTarget);R.isAnimating||t.hasClass(L.active)||(R.isAnimating=!0,n(),R.gallery.index=R.$thumbnailItems.index(t),l(),R.$lightbox.addClass(L.animating),R.$content.fsTransition({property:"opacity"},c),R.$lightbox.addClass(L.loading))}function l(){if(R.thumbnails){var e=R.$thumbnailItems.eq(R.gallery.index);R.$thumbnailItems.removeClass(L.active),e.addClass(L.active)}}function c(){void 0!==R.$imageContainer&&(R.isViewer&&R.$imageContainer.fsViewer("destroy"),R.$imageContainer.remove()),void 0!==R.$videoWrapper&&R.$videoWrapper.remove(),R.$el=R.gallery.$items.eq(R.gallery.index),R.$caption.html(R.formatter.call(R.$el,R)),R.$position.find(E.position_current).html(R.gallery.index+1);var e=R.$el.attr("href");I(e)?(R.type="video",_(e)):(R.type="image",W(e)),M()}function M(){R.$controls.removeClass(L.control_disabled),R.infinite||(0===R.gallery.index&&R.$controls.filter(E.control_previous).addClass(L.control_disabled),R.gallery.index===R.gallery.total&&R.$controls.filter(E.control_next).addClass(L.control_disabled))}function z(e){!R.gallery.active||37!==e.keyCode&&39!==e.keyCode?27===e.keyCode&&R.$close.trigger(A.click):(O.killEvent(e),R.$controls.filter(37===e.keyCode?E.control_previous:E.control_next).trigger(A.click))}function P(e){R.$content.append(e),d(e),a()}function d(e){R.windowHeight=y.windowHeight-R.mobilePaddingVertical-R.paddingVertical,R.windowWidth=y.windowWidth-R.mobilePaddingHorizontal-R.paddingHorizontal,R.objectHeight=e.outerHeight(!0),R.objectWidth=e.outerWidth(!0),R.targetHeight=R.targetHeight||(R.$el?R.$el.data(S+"-height"):null),R.targetWidth=R.targetWidth||(R.$el?R.$el.data(S+"-width"):null),R.maxHeight=R.windowHeight<0?R.minHeight:R.windowHeight,R.isIframe=e.is("iframe"),R.objectMarginTop=0,R.objectMarginLeft=0,R.isMobile||(R.windowHeight-=R.margin,R.windowWidth-=R.margin),R.contentHeight=R.targetHeight?R.targetHeight:R.isIframe||R.isMobile?R.windowHeight:R.objectHeight,R.contentWidth=R.targetWidth?R.targetWidth:R.isIframe||R.isMobile?R.windowWidth:R.objectWidth,(R.isIframe||R.isObject)&&R.isMobile?(R.contentHeight=R.windowHeight,R.contentWidth=R.windowWidth):R.isObject&&(R.contentHeight=R.contentHeight>R.windowHeight?R.windowHeight:R.contentHeight,R.contentWidth=R.contentWidth>R.windowWidth?R.windowWidth:R.contentWidth),R.isMobile||(R.contentHeight>R.maxHeight&&(R.contentHeight=R.maxHeight),R.contentWidth>R.maxWidth&&(R.contentWidth=R.maxWidth))}function u(){var e=b('<div class="'+L.error+'"><p>Error Loading Resource</p></div>');R.type="element",R.$tools.remove(),R.$image.off(A.namespace),P(e),q.trigger(A.error)}function I(e){var t,i=R.videoFormatter;for(var n in i)if(i.hasOwnProperty(n)&&null!==(t=e.match(i[n].pattern)))return i[n].format.call(R,t);return!1}function j(e){var t=e.target;b.contains(R.$lightbox[0],t)||t===R.$lightbox[0]||t===R.$overlay[0]||(O.killEvent(e),R.$lightbox.focus())}var g=y.Plugin("lightbox",{widget:!0,defaults:{customClass:"",fileTypes:/\.(jpg|sjpg|jpeg|png|gif)/i,fixed:!1,formatter:function(){var e=this.attr("title"),t=!(void 0===e||!e)&&e.replace(/^\s+|\s+$/g,"");return t?'<p class="caption">'+t+"</p>":""},infinite:!1,labels:{close:"Close",count:"of",next:"Next",previous:"Previous",captionClosed:"View Caption",captionOpen:"Close Caption",thumbnailsClosed:"View Thumbnails",thumbnailsOpen:"Close Thumbnails",lightbox:"Lightbox {guid}"},margin:50,maxHeight:1e4,maxWidth:1e4,minHeight:100,minWidth:100,mobile:!1,overlay:!1,retina:!1,requestKey:"fs-lightbox",theme:"fs-light",thumbnails:!1,top:0,videoFormatter:{youtube:{pattern:/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,format:function(e){return"//www.youtube.com/embed/"+e[1]}},vimeo:{pattern:/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,format:function(e){return"//player.vimeo.com/video/"+e[3]}}},videoRatio:.5625,videoWidth:800,viewer:!0},classes:["loading","animating","fixed","mobile","touch","inline","iframed","open","ready","overlay","close","loading_icon","container","content","image","image_container","video","video_wrapper","tools","meta","meta_content","controls","control","control_previous","control_next","control_disabled","position","position_current","position_total","toggle","caption_toggle","caption","caption_open","thumbnailed","thumbnails_open","thumbnail_toggle","thumbnails","thumbnail_container","thumbnail_item","active","has_controls","has_caption","iframe","error","active","lock"],events:{open:"open",close:"close"},methods:{_construct:function(e){this.on(A.click,e,i);var t=this.data(S+"-gallery");!v&&f&&t===f&&(v=!0,this.trigger(A.click))},_destruct:function(e){$(),this.off(A.namespace)},_resize:function(){R&&e()},resize:e},utilities:{_initialize:function(e,t){e instanceof b&&i.apply(p,[{data:b.extend(!0,{},{$object:e},h,t||{})}])},close:$}}),S=g.namespace,h=g.defaults,E=g.classes,L=E.raw,A=g.events,O=g.functions,p=y.window,q=y.$window,D=null,m=null,f=!1,v=!1,R=null;y.Ready(function(){D=y.$body,m=b("html, body"),f=y.window.location.hash.replace("#","")})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(i,e){"use strict";function t(){h.iterate.call(v,s)}function n(){v=i(d.base),t()}function a(e){e.enabled=!0,e.$el.addClass(u.enabled),s(e)}function o(e){e.enabled=!1,e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(u.enabled),e.$stickys.removeClass([u.passed,u.stuck].join(" "))}function s(e){if(e.enabled){if(r(e),e.$container.length){var t=e.$container.offset();e.min=t.top-e.margin,e.max=e.min+e.$container.outerHeight(!1)-e.height}else{var i=(e.stuck?e.$clone:e.$el).offset();e.min=i.top-e.margin,e.max=!1}l(e)}}function r(e){var t;t=e.stuck?e.$clone:e.$el,e.margin=parseInt(t.css("margin-top"),10),e.$container.length?e.containerMargin=parseInt(e.$container.css("margin-top"),10):e.containerMargin=0,e.height=t.outerHeight(),e.width=t.outerWidth()}function l(e){if(e.enabled){var t=m+e.offset;if(t>=e.min){e.stuck=!0,e.$stickys.addClass(u.stuck),e.stuck||(e.$el.trigger(g.stuck),r(e));var i=e.offset,n="";e.max&&t>e.max?(e.passed||e.$el.trigger(g.passed),e.passed=!0,e.$stickys.addClass(u.passed),i="",n=0):(e.passed=!1,e.$stickys.removeClass(u.passed)),e.$el.css({height:e.height,width:e.width,top:i,bottom:n,marginBottom:0})}else e.stuck=!1,e.$stickys.removeClass(u.stuck).removeClass(u.passed),e.stuck&&e.$el.trigger(g.unstuck),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""})}}var c=e.Plugin("sticky",{widget:!0,defaults:{maxWidth:1/0,minWidth:"0px",offset:0},classes:["enabled","sticky","stuck","clone","container","passed"],events:{passed:"passed",stuck:"stuck",unstuck:"unstuck"},methods:{_construct:function(e){e.enabled=!1,e.stuck=!1,e.passed=!0,e.$clone=e.$el.clone(),e.container=e.$el.data("sticky-container"),e.$container=i(e.container),e.$el.addClass(u.base),e.$clone.removeClass(u.element).addClass(u.clone),e.$container.addClass(u.container),e.$stickys=i().add(e.$el).add(e.$clone),e.$el.after(e.$clone);var t=i().add(e.$el.find("img")).add(e.$container.find("img"));t.length&&t.on(g.load,e,s),e.maxWidth=e.maxWidth===1/0?"100000px":e.maxWidth,e.mq="(min-width:"+e.minWidth+") and (max-width:"+e.maxWidth+")",i.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){a.call(e.$el,e)},leave:function(){o.call(e.$el,e)}})},_postConstruct:function(e){n(),t()},_destruct:function(e){e.$clone.remove(),e.$container.removeClass(u.container),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(u.base),n()},_resize:t,_raf:function(){(m=p.scrollTop())<0&&(m=0),m!==f&&(h.iterate.call(v,l),f=m)},disable:o,enable:a,reset:s,resize:s}}),d=(c.namespace,c.classes),u=d.raw,g=c.events,h=c.functions,p=(e.window,e.$window),m=0,f=0,v=[]}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(n,e){"use strict";function i(e,t){if(e.enabled&&!e.active){e.group&&!t&&n(e.group).not(e.$el).not(e.linked)[r.namespaceClean]("deactivate",!0);var i=e.group?n(e.group).index(e.$el):null;e.$swaps.addClass(e.classes.raw.active),t||e.linked&&n(e.linked).not(e.$el)[r.namespaceClean]("activate",!0),this.trigger(d.activate,[i]),e.active=!0}}function a(e,t){e.enabled&&e.active&&(e.$swaps.removeClass(e.classes.raw.active),t||e.linked&&n(e.linked).not(e.$el)[r.namespaceClean]("deactivate",!0),this.trigger(d.deactivate),e.active=!1)}function t(e,t){e.enabled||(e.enabled=!0,e.$swaps.addClass(e.classes.raw.enabled),t||n(e.linked).not(e.$el)[r.namespaceClean]("enable"),this.trigger(d.enable),e.onEnable?(e.active=!1,i.call(this,e)):(e.active=!0,a.call(this,e)))}function o(e,t){e.enabled&&(e.enabled=!1,e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")),t||n(e.linked).not(e.$el)[r.namespaceClean]("disable"),this.trigger(d.disable))}function s(e){u.killEvent(e);var t=e.data;t.active&&t.collapse?a.call(t.$el,t):i.call(t.$el,t)}var r=e.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:function(e){e.enabled=!1,e.active=!1,e.classes=n.extend(!0,{},c,e.classes),e.target=this.data(l+"-target"),e.$target=n(e.target).addClass(e.classes.raw.target),e.mq="(max-width:"+(e.maxWidth===1/0?"100000px":e.maxWidth)+")";var t=this.data(l+"-linked");e.linked=!!t&&"[data-"+l+'-linked="'+t+'"]';var i=this.data(l+"-group");e.group=!!i&&"[data-"+l+'-group="'+i+'"]',e.$swaps=n().add(this).add(e.$target),this.on(d.click+e.dotGuid,e,s)},_postConstruct:function(e){e.collapse||!e.group||n(e.group).filter("[data-"+l+"-active]").length||n(e.group).eq(0).attr("data-"+l+"-active","true"),e.onEnable=this.data(l+"-active")||!1,n.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){t.call(e.$el,e,!0)},leave:function(){o.call(e.$el,e,!0)}})},_destruct:function(e){n.fsMediaquery("unbind",e.rawGuid),e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")).off(d.namespace)},activate:i,deactivate:a,enable:t,disable:o}}),l=r.namespace,c=r.classes,d=r.events,u=r.functions}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(f,o){"use strict";function s(e){e.preventManipulation&&e.preventManipulation();var t=e.data,i=e.originalEvent;if(i.type.match(/(up|end|cancel)$/i))p(e);else{if(i.pointerId){var n=!1;for(var a in t.touches)t.touches[a].id===i.pointerId&&(n=!0,t.touches[a].pageX=i.pageX,t.touches[a].pageY=i.pageY);n||t.touches.push({id:i.pointerId,pageX:i.pageX,pageY:i.pageY})}else t.touches=i.touches;i.type.match(/(down|start)$/i)?v(e):i.type.match(/move$/i)&&r(e)}}function v(e){var t=e.data,i="undefined"!==f.type(t.touches)&&t.touches.length?t.touches[0]:null;i&&t.$el.off($.mouseDown),t.touching||(t.startE=e.originalEvent,t.startX=i?i.pageX:e.pageX,t.startY=i?i.pageY:e.pageY,t.startT=(new Date).getTime(),t.scaleD=1,t.passedAxis=!1),t.$links&&t.$links.off($.click);var n=b(t.scale?$.scaleStart:$.panStart,e,t.startX,t.startY,t.scaleD,0,0,"","");if(t.scale&&t.touches&&2<=t.touches.length){var a=t.touches;t.pinch={startX:m(a[0].pageX,a[1].pageX),startY:m(a[0].pageY,a[1].pageY),startD:y(a[1].pageX-a[0].pageX,a[1].pageY-a[0].pageY)},n.pageX=t.startX=t.pinch.startX,n.pageY=t.startY=t.pinch.startY}t.touching||(t.touching=!0,t.pan&&!i&&x.on($.mouseMove,t,r).on($.mouseUp,t,p),o.support.pointer?x.on([$.pointerMove,$.pointerUp,$.pointerCancel].join(" "),t,s):x.on([$.touchMove,$.touchEnd,$.touchCancel].join(" "),t,s),t.$el.trigger(n))}function r(e){var t=e.data,i="undefined"!==f.type(t.touches)&&t.touches.length?t.touches[0]:null,n=i?i.pageX:e.pageX,a=i?i.pageY:e.pageY,o=n-t.startX,s=a-t.startY,r=0<o?"right":"left",l=0<s?"down":"up",c=Math.abs(o)>t.threshold,d=Math.abs(s)>t.threshold;if(!t.passedAxis&&t.axis&&(t.axisX&&d||t.axisY&&c))p(e);else{!t.passedAxis&&(!t.axis||t.axis&&t.axisX&&c||t.axisY&&d)&&(t.passedAxis=!0),t.passedAxis&&(C.killEvent(e),C.killEvent(t.startE));var u=!0,g=b(t.scale?$.scale:$.pan,e,n,a,t.scaleD,o,s,r,l);if(t.scale)if(t.touches&&2<=t.touches.length){var h=t.touches;t.pinch.endX=m(h[0].pageX,h[1].pageX),t.pinch.endY=m(h[0].pageY,h[1].pageY),t.pinch.endD=y(h[1].pageX-h[0].pageX,h[1].pageY-h[0].pageY),t.scaleD=t.pinch.endD/t.pinch.startD,g.pageX=t.pinch.endX,g.pageY=t.pinch.endY,g.scale=t.scaleD,g.deltaX=t.pinch.endX-t.pinch.startX,g.deltaY=t.pinch.endY-t.pinch.startY}else t.pan||(u=!1);u&&t.$el.trigger(g)}}function p(e){var t=e.data,i="undefined"!==f.type(t.touches)&&t.touches.length?t.touches[0]:null,n=i?i.pageX:e.pageX,a=i?i.pageY:e.pageY,o=n-t.startX,s=a-t.startY,r=(new Date).getTime(),l=t.scale?$.scaleEnd:$.panEnd,c=0<o?"right":"left",d=0<s?"down":"up",u=1<Math.abs(o),g=1<Math.abs(s);if(t.swipe&&r-t.startT<t.time&&Math.abs(o)>t.threshold&&(l=$.swipe),t.axis&&(t.axisX&&g||t.axisY&&u)||u||g){t.$links=t.$el.find("a");for(var h=0,p=t.$links.length;h<p;h++)w(t.$links.eq(h),t)}var m=b(l,e,n,a,t.scaleD,o,s,c,d);x.off([$.touchMove,$.touchEnd,$.touchCancel,$.mouseMove,$.mouseUp,$.pointerMove,$.pointerUp,$.pointerCancel].join(" ")),t.$el.trigger(m),t.touches=[],t.scale,i&&(t.touchTimer=C.startTimer(t.touchTimer,5,function(){t.$el.on($.mouseDown,t,v)})),t.touching=!1}function w(e,t){e.on($.click,t,n);var i=f._data(e[0],"events").click;i.unshift(i.pop())}function n(e){C.killEvent(e,!0),e.data.$links.off($.click)}function b(e,t,i,n,a,o,s,r,l){return f.Event(e,{originalEvent:t,bubbles:!0,pageX:i,pageY:n,scale:a,deltaX:o,deltaY:s,directionX:r,directionY:l})}function m(e,t){return(e+t)/2}function y(e,t){return Math.sqrt(e*e+t*t)}function i(e,t){e.css({"-ms-touch-action":t,"touch-action":t})}var e=!o.window.PointerEvent,t=o.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1,threshold:10,time:50},methods:{_construct:function(e){if(e.touches=[],e.touching=!1,this.on($.dragStart,C.killEvent),e.swipe&&(e.pan=!0),e.scale&&(e.axis=!1),e.axisX="x"===e.axis,e.axisY="y"===e.axis,o.support.pointer){var t="";!e.axis||e.axisX&&e.axisY?t="none":(e.axisX&&(t+=" pan-y"),e.axisY&&(t+=" pan-x")),i(this,t),this.on($.pointerDown,e,s)}else this.on($.touchStart,e,s).on($.mouseDown,e,v)},_destruct:function(e){this.off($.namespace),i(this,"")}},events:{pointerDown:e?"MSPointerDown":"pointerdown",pointerUp:e?"MSPointerUp":"pointerup",pointerMove:e?"MSPointerMove":"pointermove",pointerCancel:e?"MSPointerCancel":"pointercancel"}}),$=t.events,C=t.functions,x=o.$window;$.pan="pan",$.panStart="panstart",$.panEnd="panend",$.scale="scale",$.scaleStart="scalestart",$.scaleEnd="scaleend",$.swipe="swipe"}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(r,a){"use strict";function o(e){e.stopPropagation(),e.preventDefault();var t=e.data,i=e.originalEvent,n=t.target?t.$target:t.$el;t.property&&i.propertyName!==t.property||!r(i.target).is(n)||s(t)}function s(e){e.always||e.$el[t.namespaceClean]("destroy"),e.callback.apply(e.$el)}function l(e){var t=c(e.$check);(function(e,t){if(r.type(e)!==r.type(t))return!1;for(var i in e){if(!e.hasOwnProperty(i))return!1;if(!e.hasOwnProperty(i)||!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0})(e.styles,t)||s(e),e.styles=t}function c(e){var t,i,n,a={};if(e instanceof r&&(e=e[0]),g.getComputedStyle)for(var o=0,s=(t=g.getComputedStyle(e,null)).length;o<s;o++)i=t[o],n=t.getPropertyValue(i),a[i]=n;else if(e.currentStyle)for(i in t=e.currentStyle)a[i]=t[i];return a}var t=a.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:function(e,t){if(t){e.$target=this.find(e.target),e.$check=e.target?e.$target:this,e.callback=t,e.styles=c(e.$check),e.timer=null;var i=e.$check.css(a.transition+"-duration"),n=parseFloat(i);a.support.transition&&i&&n?this.on(d.transitionEnd,e,o):e.timer=u.startTimer(e.timer,50,function(){l(e)},!0)}},_destruct:function(e){u.clearTimer(e.timer,!0),this.off(d.namespace)},resolve:s}}),d=t.events,u=t.functions,g=a.window}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./transition"],e):e(jQuery,Formstone)}(function(l,a){"use strict";function e(){j.scrollTop()+a.windowHeight<0&&0}function c(){(S=l(M.base)).length?I.lockViewport(T):I.unlockViewport(T)}function d(e,t,i){e.isAnimating||(e.isAnimating=!0,e.$container=l('<div class="'+z.container+'"><img></div>'),e.$image=e.$container.find("img"),e.$viewport.append(e.$container),e.$image.one(P.load,function(){(function(e){(function(e){var t=function(e){var t=e[0],i=new Image;return void 0!==t.naturalHeight?{naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth}:"img"===t.tagName.toLowerCase()&&(i.src=t.src,{naturalHeight:i.height,naturalWidth:i.width})}(e.$image);e.naturalHeight=t.naturalHeight,e.naturalWidth=t.naturalWidth,e.ratioHorizontal=e.naturalHeight/e.naturalWidth,e.ratioVertical=e.naturalWidth/e.naturalHeight,e.isWide=e.naturalWidth>e.naturalHeight})(e),o(e),e.containerTop=e.viewportHeight/2,e.containerLeft=e.viewportWidth/2,r(e),e.imageHeight=e.naturalHeight,e.imageWidth=e.naturalWidth,function(e){e.imageHeight=e.imageMinHeight,e.imageWidth=e.imageMinWidth}(e),s(e),u(e),g(e),h(e),v(e,{containerTop:e.containerTop,containerLeft:e.containerLeft,imageHeight:e.imageHeight,imageWidth:e.imageWidth,imageTop:e.imageTop,imageLeft:e.imageLeft}),e.isRendering=!0})(e),e.isAnimating=!1,e.$container.fsTransition({property:"opacity"},function(){}),e.$el.removeClass(z.loading),e.$container.fsTouch({pan:!0,scale:!0}).on(P.scaleStart,e,w).on(P.scaleEnd,e,y).on(P.scale,e,b),e.$el.trigger(P.loaded)}).one(P.error,e,n).attr("src",t).addClass(z.image),(e.$image[0].complete||4===e.$image[0].readyState)&&e.$image.trigger(P.load),e.source=t)}function n(e){e.data.$el.trigger(P.error)}function o(e){e.viewportHeight=e.$viewport.outerHeight(),e.viewportWidth=e.$viewport.outerWidth()}function s(e){e.imageHeight<=e.viewportHeight?(e.containerMinTop=e.viewportHeight/2,e.containerMaxTop=e.viewportHeight/2):(e.containerMinTop=e.viewportHeight-e.imageHeight/2,e.containerMaxTop=e.imageHeight/2),e.imageWidth<=e.viewportWidth?(e.containerMinLeft=e.viewportWidth/2,e.containerMaxLeft=e.viewportWidth/2):(e.containerMinLeft=e.viewportWidth-e.imageWidth/2,e.containerMaxLeft=e.imageWidth/2)}function r(e){e.isWide?(e.imageMinWidth=e.viewportWidth,e.imageMinHeight=e.imageMinWidth*e.ratioHorizontal,e.imageMinHeight>e.viewportHeight&&(e.imageMinHeight=e.viewportHeight,e.imageMinWidth=e.imageMinHeight*e.ratioVertical)):(e.imageMinHeight=e.viewportHeight,e.imageMinWidth=e.imageMinHeight*e.ratioVertical,e.imageMinWidth>e.viewportWidth&&(e.imageMinWidth=e.viewportWidth,e.imageMinHeight=e.imageMinWidth*e.ratioHorizontal)),(e.imageMinWidth>e.naturalWidth||e.imageMinHeight>e.naturalHeight)&&(e.imageMinHeight=e.naturalHeight,e.imageMinWidth=e.naturalWidth),e.imageMaxHeight=e.naturalHeight,e.imageMaxWidth=e.naturalWidth}function u(e){e.imageTop=-e.imageHeight/2,e.imageLeft=-e.imageWidth/2}function g(e){e.lastContainerTop=e.containerTop,e.lastContainerLeft=e.containerLeft,e.lastImageHeight=e.imageHeight,e.lastImageWidth=e.imageWidth,e.lastImageTop=e.imageTop,e.lastImageLeft=e.imageLeft}function h(e){e.renderContainerTop=e.lastContainerTop,e.renderContainerLeft=e.lastContainerLeft,e.renderImageTop=e.lastImageTop,e.renderImageLeft=e.lastImageLeft,e.renderImageHeight=e.lastImageHeight,e.renderImageWidth=e.lastImageWidth}function i(e){e.imageHeight<e.imageMinHeight&&(e.imageHeight=e.imageMinHeight),e.imageHeight>e.imageMaxHeight&&(e.imageHeight=e.imageMaxHeight),e.imageWidth<e.imageMinWidth&&(e.imageWidth=e.imageMinWidth),e.imageWidth>e.imageMaxWidth&&(e.imageWidth=e.imageMaxWidth)}function p(e){e.containerTop<e.containerMinTop&&(e.containerTop=e.containerMinTop),e.containerTop>e.containerMaxTop&&(e.containerTop=e.containerMaxTop),e.containerLeft<e.containerMinLeft&&(e.containerLeft=e.containerMinLeft),e.containerLeft>e.containerMaxLeft&&(e.containerLeft=e.containerMaxLeft)}function m(e){null===e.tapTimer?e.tapTimer=I.startTimer(e.tapTimer,500,function(){f(e)}):(f(e),function(e){var t=e.imageHeight>e.imageMinHeight+1;e.isZooming=!0,g(e),h(e),t?(e.imageHeight=e.imageMinHeight,e.imageWidth=e.imageMinWidth):(e.imageHeight=e.imageMaxHeight,e.imageWidth=e.imageMaxWidth),s(e),p(e),u(e),e.isRendering=!0}(e))}function f(e){I.clearTimer(e.tapTimer),e.tapTimer=null}function v(e,t){if(a.transform){var i=t.imageWidth/e.naturalWidth,n=t.imageHeight/e.naturalHeight;e.$container.css(a.transform,"translate3d("+t.containerLeft+"px, "+t.containerTop+"px, 0)"),e.$image.css(a.transform,"translate3d(-50%, -50%, 0) scale("+i+","+n+")")}else e.$container.css({top:t.containerTop,left:t.containerLeft}),e.$image.css({height:t.imageHeight,width:t.imageWidth,top:t.imageTop,left:t.imageLeft})}function w(e){var t=e.data;m(t),g(t)}function b(e){var t=e.data;f(t),t.isRendering=!1,t.isZooming=!1,t.imageHeight,t.imageMinHeight,t.containerTop=t.lastContainerTop+e.deltaY,t.containerLeft=t.lastContainerLeft+e.deltaX,t.imageHeight=t.lastImageHeight*e.scale,t.imageWidth=t.lastImageWidth*e.scale,s(t),p(t),i(t),u(t),v(t,{containerTop:t.containerTop,containerLeft:t.containerLeft,imageHeight:t.imageHeight,imageWidth:t.imageWidth,imageTop:t.imageTop,imageLeft:t.imageLeft})}function y(e){var t=e.data;t.isZooming||(g(t),h(t),t.isRendering=!0)}function $(e){I.killEvent(e);var t=l(e.currentTarget),i=e.data;"out"==(t.hasClass(z.control_zoom_out)?"out":"in")?function(e){e.keyDownTime=1,e.action="zoom_out"}(i):function(e){e.keyDownTime=1,e.action="zoom_in"}(i)}function C(e){e.data.action=!1}function t(e){if(e.isRendering){if(e.action){e.keyDownTime+=e.zoomIncrement;var t=("zoom_out"===e.action?-1:1)*Math.round(e.imageWidth*e.keyDownTime-e.imageWidth);t>e.zoomDelta&&(t=e.zoomDelta),e.isWide?(e.imageWidth+=t,e.imageHeight=Math.round(e.imageWidth/e.ratioVertical)):(e.imageHeight+=t,e.imageWidth=Math.round(e.imageHeight/e.ratioHorizontal)),i(e),u(e),s(e),p(e)}e.renderContainerTop+=Math.round((e.containerTop-e.renderContainerTop)*e.zoomEnertia),e.renderContainerLeft+=Math.round((e.containerLeft-e.renderContainerLeft)*e.zoomEnertia),e.renderImageTop+=Math.round((e.imageTop-e.renderImageTop)*e.zoomEnertia),e.renderImageLeft+=Math.round((e.imageLeft-e.renderImageLeft)*e.zoomEnertia),e.renderImageHeight+=Math.round((e.imageHeight-e.renderImageHeight)*e.zoomEnertia),e.renderImageWidth+=Math.round((e.imageWidth-e.renderImageWidth)*e.zoomEnertia),v(e,{containerTop:e.renderContainerTop,containerLeft:e.renderContainerLeft,imageHeight:e.renderImageHeight,imageWidth:e.renderImageWidth,imageTop:e.renderImageTop,imageLeft:e.renderImageLeft})}}function x(e,t){e.isAnimating||(f(e),e.isAnimating=!0,e.isRendering=!1,e.isZooming=!1,function(e){e.$container&&e.$container.length&&e.$container.fsTouch("destroy").off(P.scaleStart,w).off(P.scaleEnd,y).off(P.scale,b)}(e),e.$container.fsTransition({property:"opacity"},function(){e.isAnimating=!1,e.$container.remove(),"function"==typeof t&&t.call(window,e)}),e.$el.addClass(z.loading))}function H(e){I.killEvent(e);var t=l(e.currentTarget),i=e.data,n=i.index+(t.hasClass(z.control_next)?1:-1);i.isAnimating||(n<0&&(n=0),n>i.total&&(n=i.total),n!==i.index&&(i.index=n,x(i,function(){d(i,i.images[i.index])})),W(i))}function W(e){e.$controlItems.removeClass(z.control_disabled),0===e.index&&e.$controlPrevious.addClass(z.control_disabled),e.index===e.images.length-1&&e.$controlNext.addClass(z.control_disabled)}function _(e){o(e),s(e),r(e),u(e),s(e),p(e),i(e)}var k=a.Plugin("viewer",{widget:!0,defaults:{controls:!0,customClass:"",labels:{count:"of",next:"Next",previous:"Previous",zoom_in:"Zoom In",zoom_out:"Zoom Out"},theme:"fs-light",zoomDelta:100,zoomEnertia:.2,zoomIncrement:.01},classes:["source","wrapper","viewport","container","image","gallery","loading_icon","controls","controls_custom","control","control_previous","control_next","control_zoom_in","control_zoom_out","control_disabled","loading"],events:{loaded:"loaded",ready:"ready"},methods:{_construct:function(e){var t,i="",n=[z.control,z.control_previous].join(" "),a=[z.control,z.control_next].join(" "),o=[z.control,z.control_zoom_in].join(" "),s=[z.control,z.control_zoom_out].join(" ");e.thisClasses=[z.base,z.loading,e.customClass,e.theme],e.images=[],e.source=!1,e.gallery=!1,e.tapTimer=null,e.action=!1,e.isRendering=!1,e.isZooming=!1,e.isAnimating=!1,e.keyDownTime=1,e.$images=this.find("img").addClass(z.source),e.index=0,e.total=e.$images.length-1,e.customControls="object"===l.type(e.controls)&&e.controls.zoom_in&&e.controls.zoom_out,1<e.$images.length&&(e.gallery=!0,e.thisClasses.push(z.gallery),!e.customControls||e.controls.previous&&e.controls.next||(e.customControls=!1));for(var r=0;r<e.$images.length;r++)t=e.$images.eq(r),e.images.push(t.attr("src"));i+='<div class="'+z.wrapper+'">',i+='<div class="'+z.loading_icon+'"></div>',i+='<div class="'+z.viewport+'"></div>',i+="</div>",e.controls&&!e.customControls&&(i+='<div class="'+z.controls+'">',i+='<button type="button" class="'+n+'">'+e.labels.previous+"</button>",i+='<button type="button" class="'+s+'">'+e.labels.zoom_out+"</button>",i+='<button type="button" class="'+o+'">'+e.labels.zoom_in+"</button>",i+='<button type="button" class="'+a+'">'+e.labels.next+"</button>",i+="</div>"),this.addClass(e.thisClasses.join(" ")).prepend(i),e.$wrapper=this.find(M.wrapper),e.$viewport=this.find(M.viewport),e.customControls?(e.$controls=l(e.controls.container).addClass([z.controls,z.controls_custom].join(" ")),e.$controlPrevious=l(e.controls.previous).addClass(n),e.$controlNext=l(e.controls.next).addClass(a),e.$controlZoomIn=l(e.controls.zoom_in).addClass(o),e.$controlZoomOut=l(e.controls.zoom_out).addClass(s)):(e.$controls=this.find(M.controls),e.$controlPrevious=this.find(M.control_previous),e.$controlNext=this.find(M.control_next),e.$controlZoomIn=this.find(M.control_zoom_in),e.$controlZoomOut=this.find(M.control_zoom_out)),e.$controlItems=e.$controlPrevious.add(e.$controlNext),e.$controlZooms=e.$controlZoomIn.add(e.$controlZoomOut),c(),e.$controlItems.on(P.click,e,H),e.$controlZooms.on([P.touchStart,P.mouseDown].join(" "),e,$).on([P.touchEnd,P.mouseUp].join(" "),e,C),d(e,e.images[e.index]),W(e)},_destruct:function(e){e.$wrapper.remove(),e.$image.removeClass(z.source),e.controls&&!e.customControls&&e.$controls.remove(),e.customControls&&(e.$controls.removeClass([z.controls,z.controls_custom].join(" ")),e.$controlItems.off(P.click).removeClass([z.control,z.control_previous,z.control_next].join(" ")),e.$controlZooms.off([P.touchStart,P.mouseDown].join(" ")).off([P.touchStart,P.mouseDown].join(" ")).off([P.touchEnd,P.mouseUp].join(" ")).removeClass([z.control,z.control_zoom_in,z.control_zoom_out].join(" "))),this.removeClass(e.thisClasses.join(" ")).off(P.namespace),c()},_resize:function(){I.iterate.call(S,_)},_raf:function(){I.iterate.call(S,t)},resize:_,load:function(e,t){e.index=0,"string"==typeof t?(e.total=0,e.images=[t],e.gallery=!1,e.$el.removeClass(z.gallery)):(e.total=t.length-1,1<(e.images=t).length&&(e.gallery=!0,e.$el.addClass(z.gallery)),t=e.images[e.index]),x(e,function(){d(e,t)})},unload:function(e){x(e)}}}),T=k.namespace,M=k.classes,z=M.raw,P=k.events,I=k.functions,j=(a.window,a.$window),S=[];a.Ready(function(){e(),j.on("scroll",e),a.$body})}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("whatInput",[],t):"object"==typeof exports?exports.whatInput=t():e.whatInput=t()}(this,function(){return function(i){var n={};function a(e){if(n[e])return n[e].exports;var t=n[e]={exports:{},id:e,loaded:!1};return i[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}return a.m=i,a.c=n,a.p="",a(0)}([function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,i=null,r="initial",l=r;try{window.sessionStorage.getItem("what-input")&&(r=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(l=window.sessionStorage.getItem("what-intent"))}catch(e){}var n=null,c=["input","select","textarea"],a=[],d=[16,17,18,91,93],u=[],g={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"},h=!1,o=!1,s={x:null,y:null},p={2:"touch",3:"touch",4:"mouse"},m=!1;try{var e=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("test",null,e)}catch(e){}var f=function(){var e=!!m&&{passive:!0};window.PointerEvent?(window.addEventListener("pointerdown",v),window.addEventListener("pointermove",b)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",v),window.addEventListener("MSPointerMove",b)):(window.addEventListener("mousedown",v),window.addEventListener("mousemove",b),"ontouchstart"in window&&(window.addEventListener("touchstart",C,e),window.addEventListener("touchend",v))),window.addEventListener(H(),b,e),window.addEventListener("keydown",C),window.addEventListener("keyup",C),window.addEventListener("focusin",y),window.addEventListener("focusout",$)},v=function(e){if(!h){var t=e.which,i=g[e.type];"pointer"===i&&(i=x(e));var n=!u.length&&-1===d.indexOf(t),a=u.length&&-1!==u.indexOf(t),o="keyboard"===i&&t&&(n||a)||"mouse"===i||"touch"===i;if(r!==i&&o){r=i;try{window.sessionStorage.setItem("what-input",r)}catch(e){}w("input")}if(l!==i&&o){var s=document.activeElement;if(s&&s.nodeName&&-1===c.indexOf(s.nodeName.toLowerCase())){l=i;try{window.sessionStorage.setItem("what-intent",l)}catch(e){}w("intent")}}}},w=function(e){t.setAttribute("data-what"+e,"input"===e?r:l),W(e)},b=function(e){if(_(e),!h&&!o){var t=g[e.type];if("pointer"===t&&(t=x(e)),l!==t){l=t;try{window.sessionStorage.setItem("what-intent",l)}catch(e){}w("intent")}}},y=function(e){e.target.nodeName?(i=e.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",i),e.target.classList&&e.target.classList.length&&t.setAttribute("data-whatclasses",e.target.classList.toString().replace(" ",","))):$()},$=function(){i=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},C=function(e){v(e),window.clearTimeout(n),h=!0,n=window.setTimeout(function(){h=!1},100)},x=function(e){return"number"==typeof e.pointerType?p[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},H=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},W=function(e){for(var t=0,i=a.length;t<i;t++)a[t].type===e&&a[t].fn.call(void 0,"input"===e?r:l)},_=function(e){s.x!==e.screenX||s.y!==e.screenY?(o=!1,s.x=e.screenX,s.y=e.screenY):o=!0};return"addEventListener"in window&&Array.prototype.indexOf&&(g[H()]="mouse",f(),w("input"),w("intent")),{ask:function(e){return"intent"===e?l:r},element:function(){return i},ignoreKeys:function(e){d=e},specificKeys:function(e){u=e},registerOnChange:function(e,t){a.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=function(e){for(var t=0,i=a.length;t<i;t++)if(a[t].fn===e)return t}(e);(t||0===t)&&a.splice(t,1)}}}()}])});var Site=function(t,i){var e=function(){this.namespace="",this.minWidth=320,this.window=null,this.doc=null,this.$window=null,this.$doc=null,this.$body=null,this.touch=!1,this.modules=[],this.onInit=[],this.onRespond=[],this.onResize=[],this.onScroll=[],this.minXS="320",this.minSM="500",this.minMD="740",this.minLG="980",this.minXL="1220",this.minXXL="1330"};t.extend(e.prototype,{init:function(e){this.namespace=e,this.window=i,this.doc=document,this.$window=t(i),this.$doc=t(document),this.$body=t("body"),this.touch=t("html").hasClass("touchevents"),t.mediaquery&&t.mediaquery({minWidth:[this.minXS,this.minSM,this.minMD,this.minLG,this.minXL,this.minXXL]}),t.cookie&&t.cookie({path:"/"}),a(this.onInit),this.$window.on("mqchange.mediaquery",o).on(n.ns("resize"),s).on(n.ns("scroll"),r),this.resize()},ns:function(e){return e+"."+this.namespace},resize:function(){this.$window.trigger(n.ns("resize"))},scroll:function(){this.$window.trigger(n.ns("scroll"))},killEvent:function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())},startTimer:function(e,t,i,n){return this.clearTimer(e),n?setInterval(i,t):setTimeout(i,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},icon:function(e){var t='<svg class="icon icon_'+e+'">';return 0<i.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./)?t+='<use xlink:href="#'+e+'">':t+='<use xlink:href="'+STATIC_ROOT+"images/icons.svg#"+e+'">',t+"</use></svg>"}});var n=new e;function a(e){for(var t in e)e.hasOwnProperty(t)&&e[t].apply(n,Array.prototype.slice.call(arguments,1))}function o(e,t){a(n.onRespond,t)}function s(){a(n.onResize)}function r(){a(n.onScroll)}return n}(jQuery,window);jQuery(document).ready(function(){Site.init("@namespace")}),Site.modules.Formstone=function(a,o){var s="chevron_left",r="chevron_right",i={labels:{play:"Play",pause:"Pause"},icons:{play:o.icon("play"),pause:o.icon("pause")}},e={videoWidth:1e3,labels:{close:"<span class='fs-lightbox-icon-close'>"+o.icon("close")+"</span>",previous:"<span class='fs-lightbox-icon-previous'>"+o.icon(s)+"</span>",count:"<span class='fs-lightbox-meta-divider'></span>",next:"<span class='fs-lightbox-icon-next'>"+o.icon(r)+"</span>"}};function n(){var e=a(this).closest(".js-background-video");e.background("play"),e.find(".fs-background-control-play").addClass("fs-background-control-active").attr("aria-pressed","true"),e.find(".fs-background-control-pause").removeClass("fs-background-control-active").attr("aria-pressed","false")}function l(){var e=a(this).closest(".js-background-video");e.background("pause"),e.find(".fs-background-control-pause").addClass("fs-background-control-active").attr("aria-pressed","true"),e.find(".fs-background-control-play").removeClass("fs-background-control-active").attr("aria-pressed","false")}return o.onInit.push(function(){a(".js-background").on("loaded.background",function(){a(this).addClass("fs-background-loaded"),function(e){var t=a(e);t.hasClass("js-background-video")&&(0==t.find(".fs-background-controls").length&&a("<div class='fs-background-controls-block'><div class='fs-background-controls'><button class='fs-background-control fs-background-control-play fs-background-control-active' aria-pressed='true' aria-label='play'><span class='fs-background-control-icon'>"+i.icons.play+"</span><span class='fs-background-control-label'>"+i.labels.play+"<span></button><button class='fs-background-control fs-background-control-pause' aria-pressed='false' aria-label='pause'><span class='fs-background-control-icon'>"+i.icons.pause+"</span><span class='fs-background-control-label'>"+i.labels.pause+"<span></button></div></div>").appendTo(t),t.find(".fs-background-control-play").on("click",n),t.find(".fs-background-control-pause").on("click",l))}(this)}).background(),a(".js-carousel").carousel(),a(".js-equalize").equalize(),a(".js-lightbox").lightbox(e),a(".js-swap").swap(),function(e){e.each(function(){var e=a(this).find(".fs-carousel-control_previous"),t=e.text(),i=a(this).find(".fs-carousel-control_next"),n=i.text();e.html("<span class='fs-carousel-control-icon'>"+o.icon(s)+"</span><span class='fs-carousel-control-label'>"+t+"</span>"),i.html("<span class='fs-carousel-control-icon'>"+o.icon(r)+"</span><span class='fs-carousel-control-label'>"+n+"</span>")})}(a(".js-carousel"))}),{}}(jQuery,Site),Site.modules.Page=function(n,a){var t,i=null,e=0;function o(){}function s(){g(),function(e){void 0!==t&&(i=e.outerHeight(),btBarHeight=n("#bigtree_bar").outerHeight(),wpBarHeight=n("#wpadminbar").outerHeight(),0<btBarHeight?(e.css("top",btBarHeight),i+=btBarHeight):0<wpBarHeight&&(e.css("top",wpBarHeight),i+=wpBarHeight))}(t)}function r(){}function l(){(n("body").removeClass("preload").addClass("loaded"),n(window).trigger("resize"),window.location.hash)&&d(window.location.hash)}function c(e){a.killEvent(e),d(n(e.delegateTarget).attr("href"))}function d(e){var t=n(e);t.length&&function(e){n("html, body").animate({scrollTop:e-i})}(t.offset().top)}function u(e){a.killEvent(e);var t=n(e.delegateTarget),i="js-toggle-active";t.hasClass(i)?t.removeClass(i):t.addClass(i)}function g(){n(".table_wrapper").each(function(){var e=n(this).find(".table_wrapper_inner"),t=e.get(0).scrollWidth;e.get(0).clientWidth<t?n(this).addClass("table_wrapper_overflow").attr({tabindex:"0",role:"group"}):n(this).removeClass("table_wrapper_overflow").removeAttr("tabindex role")})}return a.onInit.push(function(){a.onScroll.push(o),a.onResize.push(s),a.onRespond.push(r),Formstone.Ready(l),n(".js-toggle").not(".js-bound").on("click",".js-toggle-handle",u).addClass("js-bound"),n(".js-scroll-to").not(".js-bound").on("click",c).addClass("js-bound"),(0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./))&&n.get(STATIC_ROOT+"images/icons.svg",function(e){var t=document.createElement("div");n(t).hide(),t.innerHTML=(new XMLSerializer).serializeToString(e.documentElement),document.body.insertBefore(t,document.body.childNodes[0]),n("svg use").each(function(){var e=n(this).attr("xlink:href").split("#");n(this).attr("xlink:href","#"+e[1])})}),n("iframe[src*='vimeo.com'], iframe[src*='youtube.com']",".typography").each(function(){n(this).wrap('<div class="video_frame"></div>')}),n(".typography table").wrap('<div class="table_wrapper"><div class="table_wrapper_inner"></div></div>'),g()}),{ariaHide:function(e){e.attr("aria-hidden","true").attr("hidden","")},ariaShow:function(e){e.attr("aria-hidden","false").removeAttr("hidden")},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var n=i.offsetWidth;return e.parentNode.removeChild(e),t-n},saveScrollYPosition:function(){e=window.pageYOffset,n("body").css({width:"100%",position:"fixed",top:-1*e})},restoreScrollYPosition:function(){n("body").css({width:"",position:"",top:""}),n("html, body").scrollTop(e)}}}(jQuery,Site),Site.modules.Calculator=function(t,e){var i,n,a,o;function s(){a="",o=0,t(".calculator_item_checkbox").each(function(){if(t(this).is(":checked")){var e=t(this).closest(".calculator_item_content");a+='<div class="calculator_result_item"><span class="calculator_result_item_label">'+t(e).data("label")+'</span><span class="calculator_result_item_value">'+t(e).data("value")+"</span></div>",o+=t(e).data("value")}}),a+='<div class="calculator_result_item"><span class="calculator_result_item_label">Total</span><span class="calculator_result_item_value">$80 * '+(o+=10)+" Hours = <strong>$"+80*o+"</strong></span></div>",i.html(n+a)}return Site.onInit.push(function(){t(".calculator").length&&(i=t(".calculator_results"),n='<div class="calculator_result_item"><span class="calculator_result_item_label">Basic Website</span><span class="calculator_result_item_value">+10</span></div>',a='<div class="calculator_result_item"><span class="calculator_result_item_label">Total</span><span class="calculator_result_item_value">$800</span></div>',o=0,s(),t(".calculator_item_checkbox").on("click",s))}),{}}(jQuery),Site.modules.MainNAv=function(e,t){function i(){e(this).closest(".main_nav_item").find(".main_nav_link").attr("aria-expanded","true"),t.modules.Page.ariaShow(e(this).closest(".main_nav_item").find(".js-main-nav-children"))}function n(){e(this).closest(".main_nav_item").find(".main_nav_link").attr("aria-expanded","false"),t.modules.Page.ariaHide(e(this).closest(".main_nav_item").find(".js-main-nav-children"))}return t.onInit.push(function(){e(".js-main-nav").length&&(e(".js-main-nav-toggle").on("activate.swap",i).on("deactivate.swap",n),e(".js-main-nav-lg a").hover(function(){e(this).attr("aria-expanded","true"),t.modules.Page.ariaShow(e(this).closest(".main_nav_item").find(".js-main-nav-children"))},function(){e(this).attr("aria-expanded","false"),t.modules.Page.ariaHide(e(this).closest(".main_nav_item").find(".js-main-nav-children"))}))}),{}}(jQuery,Site),Site.modules.Menu=function(t,e){var i,n,a,o;function s(e){t("body").hasClass(o)&&(t(e.target).closest(".js-menu").length||n.swap("deactivate"))}function r(){e.$body.addClass(o),e.modules.Page.saveScrollYPosition(),e.modules.Page.ariaShow(i),i.transition({always:!0,property:"opacity"},function(){i.focus()}),t(".header, .page, .footer").css("padding-right",e.modules.Page.getScrollbarWidth()),t(".menu").css("margin-right",""),t(".menu").css("width","")}function l(){e.$body.removeClass(o),e.modules.Page.restoreScrollYPosition(),e.modules.Page.ariaHide(i),n.focus(),t(".header, .page, .footer").css("padding-right",""),t(".menu").css("margin-right",-1*e.modules.Page.getScrollbarWidth()),t(".menu").css("width","calc(100% + "+e.modules.Page.getScrollbarWidth()+"px)")}function c(e){9===e.keyCode&&(e.shiftKey||i.focus())}function d(e){i.is(":focus")&&9===e.keyCode&&e.shiftKey&&(e.preventDefault(),a.focus())}function u(e){27===e.keyCode&&n.swap("deactivate")}return e.onInit.push(function(){(i=t(".js-menu")).length&&(n=t(".js-menu-handle"),a=t(".js-menu-close"),o="fs-navigation-lock fs-page-lock",e.modules.Page.ariaHide(i),function(e){e.each(function(){e.attr("role","button")})}(t(".js-menu-handle")),e.$doc.on("click touchstart",s),n.on("activate.swap",r).on("deactivate.swap",l),a.on("keydown",c),i.attr("tabindex","0").on("keydown",d).on("keyup",u))}),{}}(jQuery,Site),Site.modules.SubNav=function(e,t){function i(){e(this).attr("aria-expanded","true").find(".sub_nav_handle_label").text("Close"),t.modules.Page.ariaShow(e(".js-sub-nav-list"))}function n(){e(this).attr("aria-expanded","false").find(".sub_nav_handle_label").text(e(this).data("swap-title")),t.modules.Page.ariaHide(e(".js-sub-nav-list"))}function a(){t.modules.Page.ariaHide(e(".js-sub-nav-list"))}function o(){t.modules.Page.ariaShow(e(".js-sub-nav-list"))}return t.onInit.push(function(){e(".js-sub-nav").length&&(e(".js-sub-nav-handle").on("activate.swap",i).on("deactivate.swap",n).on("enable.swap",a).on("disable.swap",o),e.mediaquery("bind","mq-key","(min-width: "+t.minLG+"px)",{enter:function(){t.modules.Page.ariaShow(e(".js-sub-nav-list")),e(".js-sub-nav-handle").removeAttr("aria-expanded").removeAttr("aria-haspopup")},leave:function(){t.modules.Page.ariaHide(e(".js-sub-nav-list")),e(".js-sub-nav-handle").attr("aria-expanded","false").attr("aria-haspopup","true")}}))}),{}}(jQuery,Site);